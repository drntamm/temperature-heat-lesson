<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Temperature, Heat, and Heat Transfer - Interactive Lesson</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #1a202c;
      height: 100%;
      overflow: hidden;
    }

    html {
      height: 100%;
    }

    *, *::before, *::after {
      box-sizing: inherit;
    }

    .container {
      height: 100%;
      display: flex;
      flex-direction: column;
      max-width: 1400px;
      margin: 0 auto;
      background: white;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }

    header {
      background: linear-gradient(135deg, #4c51bf 0%, #6b46c1 100%);
      color: white;
      padding: 24px 32px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 16px;
    }

    .branding h1 {
      margin: 0 0 4px 0;
      font-size: 28px;
      font-weight: 700;
    }

    .branding p {
      margin: 0;
      font-size: 14px;
      opacity: 0.9;
    }

    .menu-btn {
      background: rgba(255,255,255,0.2);
      border: none;
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      transition: background 0.2s;
    }

    .menu-btn:hover {
      background: rgba(255,255,255,0.3);
    }

    .menu-btn:focus {
      outline: 3px solid #fbbf24;
      outline-offset: 2px;
    }

    .progress-bar {
      background: rgba(255,255,255,0.2);
      height: 8px;
      border-radius: 4px;
      overflow: hidden;
      margin-top: 16px;
    }

    .progress-fill {
      background: #10b981;
      height: 100%;
      transition: width 0.3s ease;
      border-radius: 4px;
    }

    main {
      flex: 1;
      overflow-y: auto;
      padding: 40px;
    }

    .section {
      display: none;
      animation: fadeIn 0.3s ease;
    }

    .section.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    h2 {
      color: #4c51bf;
      font-size: 32px;
      margin: 0 0 24px 0;
      font-weight: 700;
    }

    h3 {
      color: #2d3748;
      font-size: 24px;
      margin: 32px 0 16px 0;
      font-weight: 600;
    }

    p {
      font-size: 18px;
      line-height: 1.7;
      color: #4a5568;
      margin: 0 0 16px 0;
    }

    .intro-box {
      background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
      border-left: 4px solid #f59e0b;
      padding: 24px;
      border-radius: 8px;
      margin: 24px 0;
    }

    .intro-box p {
      margin: 0;
      color: #78350f;
      font-size: 18px;
      font-weight: 500;
    }

    .sim-container {
      background: #f7fafc;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      padding: 32px;
      margin: 24px 0;
    }

    .sim-title {
      font-size: 20px;
      font-weight: 600;
      color: #2d3748;
      margin: 0 0 20px 0;
    }

    .thermometer-display {
      display: flex;
      gap: 32px;
      justify-content: center;
      align-items: flex-end;
      margin: 32px 0;
      flex-wrap: wrap;
    }

    .thermo-column {
      text-align: center;
    }

    .thermo-tube {
      width: 60px;
      height: 300px;
      background: white;
      border: 3px solid #4c51bf;
      border-radius: 30px;
      position: relative;
      overflow: hidden;
      margin: 0 auto 16px auto;
    }

    .thermo-fill {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(to top, #ef4444, #f59e0b, #10b981);
      transition: height 0.3s ease;
      border-radius: 0 0 27px 27px;
    }

    .thermo-bulb {
      width: 80px;
      height: 80px;
      background: #ef4444;
      border-radius: 50%;
      margin: -10px auto 0 auto;
      border: 3px solid #4c51bf;
    }

    .thermo-label {
      font-size: 16px;
      font-weight: 600;
      color: #4c51bf;
      margin: 8px 0 4px 0;
    }

    .thermo-value {
      font-size: 28px;
      font-weight: 700;
      color: #1a202c;
    }

    .slider-control {
      margin: 32px 0;
    }

    .slider-control label {
      display: block;
      font-size: 18px;
      font-weight: 600;
      color: #2d3748;
      margin-bottom: 12px;
    }

    input[type="range"] {
      width: 100%;
      height: 8px;
      border-radius: 4px;
      background: #e2e8f0;
      outline: none;
      -webkit-appearance: none;
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: #4c51bf;
      cursor: pointer;
      transition: transform 0.2s;
    }

    input[type="range"]::-webkit-slider-thumb:hover {
      transform: scale(1.2);
    }

    input[type="range"]::-moz-range-thumb {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: #4c51bf;
      cursor: pointer;
      border: none;
      transition: transform 0.2s;
    }

    input[type="range"]::-moz-range-thumb:hover {
      transform: scale(1.2);
    }

    input[type="range"]:focus {
      outline: 3px solid #fbbf24;
      outline-offset: 2px;
    }

    .formula-box {
      background: white;
      border: 2px solid #4c51bf;
      border-radius: 8px;
      padding: 20px;
      margin: 16px 0;
      font-family: 'Courier New', monospace;
      font-size: 18px;
      text-align: center;
      color: #2d3748;
    }

    .check-section {
      background: #eff6ff;
      border: 2px solid #3b82f6;
      border-radius: 12px;
      padding: 32px;
      margin: 32px 0;
    }

    .check-title {
      font-size: 22px;
      font-weight: 700;
      color: #1e40af;
      margin: 0 0 20px 0;
    }

    .question {
      font-size: 18px;
      color: #1e3a8a;
      margin: 0 0 16px 0;
      font-weight: 500;
    }

    .input-group {
      display: flex;
      gap: 16px;
      align-items: center;
      margin: 16px 0;
      flex-wrap: wrap;
    }

    .input-group label {
      font-size: 16px;
      font-weight: 600;
      color: #2d3748;
      min-width: 80px;
    }

    input[type="number"],
    input[type="text"] {
      padding: 12px 16px;
      border: 2px solid #cbd5e0;
      border-radius: 8px;
      font-size: 16px;
      width: 150px;
      transition: border-color 0.2s;
    }

    input[type="number"]:focus,
    input[type="text"]:focus {
      outline: none;
      border-color: #4c51bf;
      box-shadow: 0 0 0 3px rgba(76, 81, 191, 0.1);
    }

    .btn {
      background: #4c51bf;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn:hover {
      background: #4338ca;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(76, 81, 191, 0.3);
    }

    .btn:active {
      transform: translateY(0);
    }

    .btn:focus {
      outline: 3px solid #fbbf24;
      outline-offset: 2px;
    }

    .btn:disabled {
      background: #cbd5e0;
      cursor: not-allowed;
      transform: none;
    }

    .btn-secondary {
      background: #64748b;
    }

    .btn-secondary:hover {
      background: #475569;
    }

    .feedback {
      margin-top: 20px;
      padding: 16px;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 500;
      display: none;
    }

    .feedback.show {
      display: block;
    }

    .feedback.correct {
      background: #d1fae5;
      color: #065f46;
      border: 2px solid #10b981;
    }

    .feedback.incorrect {
      background: #fee2e2;
      color: #991b1b;
      border: 2px solid #ef4444;
    }

    .solution {
      background: #fef3c7;
      border: 2px solid #f59e0b;
      border-radius: 8px;
      padding: 20px;
      margin-top: 16px;
      display: none;
    }

    .solution.show {
      display: block;
    }

    .solution-title {
      font-size: 18px;
      font-weight: 700;
      color: #78350f;
      margin: 0 0 12px 0;
    }

    .solution p {
      color: #78350f;
      margin: 8px 0;
    }

    nav {
      background: #f7fafc;
      border-top: 2px solid #e2e8f0;
      padding: 20px 32px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 16px;
      flex-wrap: wrap;
    }

    .nav-info {
      font-size: 16px;
      color: #4a5568;
      font-weight: 500;
    }

    .nav-buttons {
      display: flex;
      gap: 12px;
    }

    .drawer {
      position: fixed;
      top: 0;
      right: -400px;
      width: 400px;
      height: 100%;
      background: white;
      box-shadow: -4px 0 20px rgba(0,0,0,0.2);
      transition: right 0.3s ease;
      z-index: 1000;
      overflow-y: auto;
    }

    .drawer.open {
      right: 0;
    }

    .drawer-header {
      background: #4c51bf;
      color: white;
      padding: 24px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .drawer-header h3 {
      margin: 0;
      color: white;
      font-size: 22px;
    }

    .close-btn {
      background: none;
      border: none;
      color: white;
      font-size: 28px;
      cursor: pointer;
      padding: 0;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
    }

    .close-btn:hover {
      background: rgba(255,255,255,0.2);
    }

    .close-btn:focus {
      outline: 3px solid #fbbf24;
      outline-offset: 2px;
    }

    .drawer-content {
      padding: 24px;
    }

    .toc-item {
      padding: 16px;
      margin: 8px 0;
      background: #f7fafc;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
      border: 2px solid transparent;
    }

    .toc-item:hover {
      background: #edf2f7;
      border-color: #4c51bf;
    }

    .toc-item:focus {
      outline: 3px solid #fbbf24;
      outline-offset: 2px;
    }

    .toc-item.active {
      background: #e0e7ff;
      border-color: #4c51bf;
    }

    .toc-number {
      font-weight: 700;
      color: #4c51bf;
      font-size: 14px;
    }

    .toc-title {
      font-size: 16px;
      color: #2d3748;
      margin-top: 4px;
    }

    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      display: none;
      z-index: 999;
    }

    .overlay.show {
      display: block;
    }

    .converter-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin: 24px 0;
    }

    .converter-card {
      background: white;
      border: 2px solid #cbd5e0;
      border-radius: 8px;
      padding: 20px;
    }

    .converter-card label {
      display: block;
      font-size: 16px;
      font-weight: 600;
      color: #2d3748;
      margin-bottom: 8px;
    }

    .converter-card input {
      width: 100%;
    }

    .material-selector {
      display: flex;
      gap: 12px;
      margin: 24px 0;
      flex-wrap: wrap;
    }

    .material-btn {
      padding: 12px 24px;
      border: 2px solid #cbd5e0;
      background: white;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      transition: all 0.2s;
    }

    .material-btn:hover {
      border-color: #4c51bf;
      background: #f7fafc;
    }

    .material-btn:focus {
      outline: 3px solid #fbbf24;
      outline-offset: 2px;
    }

    .material-btn.active {
      background: #4c51bf;
      color: white;
      border-color: #4c51bf;
    }

    .heat-flow-demo {
      display: flex;
      gap: 40px;
      justify-content: center;
      align-items: center;
      margin: 32px 0;
      flex-wrap: wrap;
    }

    .block {
      width: 120px;
      height: 120px;
      border-radius: 12px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 24px;
      border: 3px solid #2d3748;
      position: relative;
    }

    .block-hot {
      background: linear-gradient(135deg, #fca5a5, #ef4444);
      color: #7f1d1d;
    }

    .block-cold {
      background: linear-gradient(135deg, #93c5fd, #3b82f6);
      color: #1e3a8a;
    }

    .arrow {
      font-size: 48px;
      color: #f59e0b;
      animation: pulse 1s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.6; transform: scale(1.1); }
    }

    .sorting-area {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
      margin: 24px 0;
    }

    .drop-zone {
      background: #f7fafc;
      border: 3px dashed #cbd5e0;
      border-radius: 12px;
      padding: 24px;
      min-height: 200px;
    }

    .drop-zone h4 {
      margin: 0 0 16px 0;
      color: #4c51bf;
      font-size: 20px;
    }

    .draggable-item {
      background: white;
      border: 2px solid #4c51bf;
      border-radius: 8px;
      padding: 12px 16px;
      margin: 8px 0;
      cursor: move;
      font-size: 16px;
      transition: all 0.2s;
    }

    .draggable-item:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(76, 81, 191, 0.2);
    }

    .draggable-item:focus {
      outline: 3px solid #fbbf24;
      outline-offset: 2px;
    }

    .statement-pool {
      background: #fef3c7;
      border: 2px solid #f59e0b;
      border-radius: 12px;
      padding: 20px;
      margin: 24px 0;
      max-height: 200px;
      overflow-y: auto;
    }

    .statement-pool h4 {
      margin: 0 0 12px 0;
      color: #78350f;
      font-size: 16px;
    }

    @media (max-width: 768px) {
      .drawer {
        width: 100%;
        right: -100%;
      }

      main {
        padding: 24px;
      }

      h2 {
        font-size: 26px;
      }

      .thermometer-display {
        gap: 20px;
      }

      .thermo-tube {
        width: 50px;
        height: 250px;
      }

      .thermo-bulb {
        width: 70px;
        height: 70px;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="overlay" id="overlay"></div>
  <div class="container">
   <header role="banner">
    <div class="header-content">
     <div class="branding">
      <h1 id="lesson-title">Temperature, Heat, and Heat Transfer</h1>
      <p id="course-info"><span id="course-title">College Algebra-Based Physics I</span> | <span id="instructor-name">Instructor</span> | <span id="school-name">School</span></p>
     </div><button class="menu-btn" id="menu-btn" aria-label="Open table of contents"> ğŸ“š Contents </button>
    </div>
    <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" aria-label="Lesson progress">
     <div class="progress-fill" id="progress-fill"></div>
    </div>
   </header>
   <main role="main" id="main-content"><!-- Section 0: Introduction -->
    <section class="section active" id="section-0" aria-labelledby="section-0-title">
     <h2 id="section-0-title">Welcome to Your Interactive Lesson</h2>
     <div class="intro-box">
      <p id="intro-hook">ğŸŒ¡ï¸ Ever wonder why metal feels colder than wood at room temperature? Or how your coffee cools down? Let's explore the fascinating world of temperature and heat transfer!</p>
     </div>
     <h3>What You'll Learn</h3>
     <p>This self-paced lesson covers 12 key concepts in temperature, heat, and heat transferâ€”all using algebra, no calculus required. You'll work through interactive simulations and check your understanding with instant feedback.</p>
     <h3>How to Use This Lesson (1 minute)</h3>
     <p><strong>Try-It Prompts:</strong> Each section includes an interactive simulation. Adjust sliders, toggle options, and explore the concepts hands-on.</p>
     <p><strong>Knowledge Checks:</strong> Test your understanding with auto-graded questions. You get 2 attempts, and after the second attempt, you'll see a worked solution.</p>
     <p><strong>Navigation:</strong> Use the Back/Next buttons at the bottom, or click "Contents" to jump to any section.</p>
     <p><strong>Reset Buttons:</strong> Found in simulationsâ€”use them to start fresh anytime.</p>
     <div style="margin-top: 32px; padding: 20px; background: #e0e7ff; border-radius: 8px; border-left: 4px solid #4c51bf;">
      <p style="margin: 0; color: #3730a3; font-weight: 600;">ğŸ’¡ Tip: Take your time with each simulation. The more you experiment, the deeper your understanding!</p>
     </div>
    </section><!-- Section 1: Temperature Scales -->
    <section class="section" id="section-1" aria-labelledby="section-1-title">
     <h2 id="section-1-title">LO1: Fundamental Temperature Scales (Â°F, Â°C, K)</h2>
     <p>Temperature measures the average kinetic energy of particles. We use three main scales: <strong>Celsius (Â°C)</strong>, <strong>Kelvin (K)</strong>, and <strong>Fahrenheit (Â°F)</strong>. Celsius is based on water's freezing (0Â°C) and boiling (100Â°C) points. Kelvin is the absolute scale starting at absolute zero (0 K = -273.15Â°C). Fahrenheit is common in the US, with water freezing at 32Â°F and boiling at 212Â°F.</p>
     <div class="formula-box">
      <div>
       K = Â°C + 273.15
      </div>
      <div style="margin-top: 8px;">
       Â°F = (9/5)Â°C + 32
      </div>
     </div>
     <div class="sim-container">
      <div class="sim-title">
       ğŸŒ¡ï¸ Interactive Three-Scale Thermometer
      </div>
      <p style="font-size: 16px; color: #4a5568; margin-bottom: 24px;">Drag the slider to see how temperature values change across all three scales simultaneously.</p>
      <div class="slider-control"><label for="temp-slider">Temperature (Â°C): <span id="temp-display">25</span>Â°C</label> <input type="range" id="temp-slider" min="-50" max="150" value="25" step="1" aria-label="Temperature in Celsius">
      </div>
      <div class="thermometer-display">
       <div class="thermo-column">
        <div class="thermo-tube">
         <div class="thermo-fill" id="thermo-fill-c"></div>
        </div>
        <div class="thermo-bulb"></div>
        <div class="thermo-label">
         Celsius
        </div>
        <div class="thermo-value" id="value-c">
         25Â°C
        </div>
       </div>
       <div class="thermo-column">
        <div class="thermo-tube">
         <div class="thermo-fill" id="thermo-fill-k"></div>
        </div>
        <div class="thermo-bulb"></div>
        <div class="thermo-label">
         Kelvin
        </div>
        <div class="thermo-value" id="value-k">
         298.15 K
        </div>
       </div>
       <div class="thermo-column">
        <div class="thermo-tube">
         <div class="thermo-fill" id="thermo-fill-f"></div>
        </div>
        <div class="thermo-bulb"></div>
        <div class="thermo-label">
         Fahrenheit
        </div>
        <div class="thermo-value" id="value-f">
         77Â°F
        </div>
       </div>
      </div>
     </div>
     <div class="check-section">
      <div class="check-title">
       âœ“ Knowledge Check
      </div>
      <p class="question">Human body temperature is approximately 37Â°C. What is this temperature in Kelvin and Fahrenheit? (Round to 1 decimal place)</p>
      <div class="input-group"><label for="check1-k">Kelvin:</label> <input type="number" id="check1-k" step="0.1" aria-label="Temperature in Kelvin"> <span>K</span>
      </div>
      <div class="input-group"><label for="check1-f">Fahrenheit:</label> <input type="number" id="check1-f" step="0.1" aria-label="Temperature in Fahrenheit"> <span>Â°F</span>
      </div><button class="btn" id="check1-submit">Submit Answer</button> <button class="btn btn-secondary" id="check1-reset" style="display: none;">Try Another</button>
      <div class="feedback" id="check1-feedback"></div>
      <div class="solution" id="check1-solution">
       <div class="solution-title">
        ğŸ“– Worked Solution
       </div>
       <p><strong>Given:</strong> T = 37Â°C</p>
       <p><strong>Convert to Kelvin:</strong><br>
        K = Â°C + 273.15 = 37 + 273.15 = 310.15 K â‰ˆ <strong>310.2 K</strong></p>
       <p><strong>Convert to Fahrenheit:</strong><br>
        Â°F = (9/5)Â°C + 32 = (9/5)(37) + 32 = 66.6 + 32 = 98.6Â°F â‰ˆ <strong>98.6Â°F</strong></p>
      </div>
     </div>
    </section><!-- Section 2: Temperature Conversion -->
    <section class="section" id="section-2" aria-labelledby="section-2-title">
     <h2 id="section-2-title">LO2: Converting Between Temperature Scales</h2>
     <p>Converting between scales requires understanding the relationships. From Celsius: add 273.15 for Kelvin, or multiply by 9/5 and add 32 for Fahrenheit. From Fahrenheit to Celsius: subtract 32, then multiply by 5/9. From Kelvin to Celsius: subtract 273.15. Practice makes perfect!</p>
     <div class="sim-container">
      <div class="sim-title">
       ğŸ”„ Two-Way Temperature Converter
      </div>
      <p style="font-size: 16px; color: #4a5568; margin-bottom: 24px;">Enter a value in any field and watch the others update automatically. Try real-world temperatures!</p>
      <div class="converter-grid">
       <div class="converter-card"><label for="conv-celsius">Celsius (Â°C)</label> <input type="number" id="conv-celsius" step="0.01" placeholder="Enter Â°C" aria-label="Temperature in Celsius">
       </div>
       <div class="converter-card"><label for="conv-kelvin">Kelvin (K)</label> <input type="number" id="conv-kelvin" step="0.01" placeholder="Enter K" aria-label="Temperature in Kelvin">
       </div>
       <div class="converter-card"><label for="conv-fahrenheit">Fahrenheit (Â°F)</label> <input type="number" id="conv-fahrenheit" step="0.01" placeholder="Enter Â°F" aria-label="Temperature in Fahrenheit">
       </div>
      </div>
      <div style="margin-top: 24px; padding: 16px; background: white; border-radius: 8px; border: 2px solid #cbd5e0;">
       <h4 style="margin: 0 0 12px 0; color: #4c51bf; font-size: 18px;">Try These Real-World Temperatures:</h4>
       <div style="display: flex; gap: 12px; flex-wrap: wrap;"><button class="btn btn-secondary" onclick="document.getElementById('conv-celsius').value = 0; document.getElementById('conv-celsius').dispatchEvent(new Event('input'));">Water Freezes (0Â°C)</button> <button class="btn btn-secondary" onclick="document.getElementById('conv-celsius').value = 100; document.getElementById('conv-celsius').dispatchEvent(new Event('input'));">Water Boils (100Â°C)</button> <button class="btn btn-secondary" onclick="document.getElementById('conv-fahrenheit').value = 350; document.getElementById('conv-fahrenheit').dispatchEvent(new Event('input'));">Baking Oven (350Â°F)</button>
       </div>
      </div>
     </div>
     <div class="check-section">
      <div class="check-title">
       âœ“ Knowledge Check
      </div>
      <p class="question" id="check2-question">Convert 25Â°C to Fahrenheit. (Round to 1 decimal place)</p>
      <div class="input-group"><label for="check2-answer">Answer:</label> <input type="number" id="check2-answer" step="0.1" aria-label="Answer"> <span id="check2-unit">Â°F</span>
      </div><button class="btn" id="check2-submit">Submit Answer</button> <button class="btn btn-secondary" id="check2-reset" style="display: none;">Try Another</button>
      <div class="feedback" id="check2-feedback"></div>
      <div class="solution" id="check2-solution"></div>
     </div>
    </section><!-- Section 3: Energy Units -->
    <section class="section" id="section-3" aria-labelledby="section-3-title">
     <h2 id="section-3-title">LO3: Energy Units (J â†” cal â†” kcal)</h2>
     <p>Energy can be measured in different units. The <strong>Joule (J)</strong> is the SI unit. A <strong>calorie (cal)</strong> is the energy needed to raise 1 gram of water by 1Â°C. A <strong>kilocalorie (kcal)</strong>, often called a "Calorie" in nutrition, equals 1000 calories. The conversion: 1 cal = 4.184 J, and 1 kcal = 1000 cal = 4184 J.</p>
     <div class="formula-box">
      <div>
       1 cal = 4.184 J
      </div>
      <div style="margin-top: 8px;">
       1 kcal = 1000 cal = 4184 J
      </div>
     </div>
     <div class="sim-container">
      <div class="sim-title">
       âš¡ Energy Unit Converter
      </div>
      <p style="font-size: 16px; color: #4a5568; margin-bottom: 24px;">Enter a value in any unit and see the conversions instantly.</p>
      <div class="converter-grid">
       <div class="converter-card"><label for="energy-joules">Joules (J)</label> <input type="number" id="energy-joules" step="0.01" placeholder="Enter J" aria-label="Energy in Joules">
       </div>
       <div class="converter-card"><label for="energy-calories">Calories (cal)</label> <input type="number" id="energy-calories" step="0.01" placeholder="Enter cal" aria-label="Energy in calories">
       </div>
       <div class="converter-card"><label for="energy-kcal">Kilocalories (kcal)</label> <input type="number" id="energy-kcal" step="0.01" placeholder="Enter kcal" aria-label="Energy in kilocalories">
       </div>
      </div>
     </div>
     <div class="check-section">
      <div class="check-title">
       âœ“ Knowledge Check
      </div>
      <p class="question">8368 J equals how many calories and kilocalories? (Round to 2 decimal places)</p>
      <div class="input-group"><label for="check3-cal">Calories:</label> <input type="number" id="check3-cal" step="0.01" aria-label="Energy in calories"> <span>cal</span>
      </div>
      <div class="input-group"><label for="check3-kcal">Kilocalories:</label> <input type="number" id="check3-kcal" step="0.01" aria-label="Energy in kilocalories"> <span>kcal</span>
      </div><button class="btn" id="check3-submit">Submit Answer</button> <button class="btn btn-secondary" id="check3-reset" style="display: none;">Try Another</button>
      <div class="feedback" id="check3-feedback"></div>
      <div class="solution" id="check3-solution">
       <div class="solution-title">
        ğŸ“– Worked Solution
       </div>
       <p><strong>Given:</strong> Energy = 8368 J</p>
       <p><strong>Convert to calories:</strong><br>
        cal = J Ã· 4.184 = 8368 Ã· 4.184 = 2000.00 cal</p>
       <p><strong>Convert to kilocalories:</strong><br>
        kcal = cal Ã· 1000 = 2000 Ã· 1000 = 2.00 kcal</p>
      </div>
     </div>
    </section><!-- Section 4: Heat Transfer Units -->
    <section class="section" id="section-4" aria-labelledby="section-4-title">
     <h2 id="section-4-title">LO4: Units of Heat Transfer (q = mcÎ”T)</h2>
     <p>The heat transferred is given by <strong>q = mcÎ”T</strong>, where <strong>q</strong> is heat (J), <strong>m</strong> is mass (kg or g), <strong>c</strong> is specific heat capacity (J/kgÂ·Â°C or J/gÂ·Â°C), and <strong>Î”T</strong> is temperature change (Â°C). By analyzing units: [J] = [kg] Ã— [J/kgÂ·Â°C] Ã— [Â°C]. The kg and Â°C cancel, leaving Joules.</p>
     <div class="formula-box">
      q = m Ã— c Ã— Î”T
     </div>
     <div class="sim-container">
      <div class="sim-title">
       ğŸ”¬ Unit Analysis Demonstration
      </div>
      <p style="font-size: 16px; color: #4a5568; margin-bottom: 24px;">Watch how units cancel to give the correct result for heat transfer.</p>
      <div style="background: white; padding: 24px; border-radius: 8px; border: 2px solid #4c51bf; margin: 24px 0;">
       <h4 style="margin: 0 0 16px 0; color: #4c51bf;">Unit Analysis:</h4>
       <div style="font-size: 18px; line-height: 2; font-family: 'Courier New', monospace;">
        <div>
         q = m Ã— c Ã— Î”T
        </div>
        <div style="margin-top: 12px;">
         [q] = [kg] Ã— [J/(kgÂ·Â°C)] Ã— [Â°C]
        </div>
        <div style="margin-top: 12px; color: #059669;">
         [q] = kg Ã— (J / (kgÂ·Â°C)) Ã— Â°C
        </div>
        <div style="margin-top: 12px; color: #059669;">
         [q] = <span style="text-decoration: line-through;">kg</span> Ã— J / (<span style="text-decoration: line-through;">kg</span>Â·<span style="text-decoration: line-through;">Â°C</span>) Ã— <span style="text-decoration: line-through;">Â°C</span>
        </div>
        <div style="margin-top: 12px; font-weight: 700; color: #4c51bf; font-size: 20px;">
         [q] = J (Joules) âœ“
        </div>
       </div>
      </div>
      <div style="margin-top: 24px;"><label style="display: flex; align-items: center; gap: 12px; font-size: 18px; cursor: pointer;"> <input type="checkbox" id="unit-toggle" style="width: 24px; height: 24px; cursor: pointer;"> <span>Show with grams (g) instead of kilograms (kg)</span> </label>
       <div id="gram-units" style="display: none; margin-top: 16px; padding: 20px; background: #fef3c7; border-radius: 8px; border: 2px solid #f59e0b;">
        <div style="font-size: 18px; line-height: 2; font-family: 'Courier New', monospace; color: #78350f;">
         <div>
          [q] = [g] Ã— [J/(gÂ·Â°C)] Ã— [Â°C]
         </div>
         <div style="margin-top: 12px;">
          [q] = <span style="text-decoration: line-through;">g</span> Ã— J / (<span style="text-decoration: line-through;">g</span>Â·<span style="text-decoration: line-through;">Â°C</span>) Ã— <span style="text-decoration: line-through;">Â°C</span>
         </div>
         <div style="margin-top: 12px; font-weight: 700; font-size: 20px;">
          [q] = J (Joules) âœ“
         </div>
        </div>
       </div>
      </div>
     </div>
     <div class="check-section">
      <div class="check-title">
       âœ“ Knowledge Check
      </div>
      <p class="question">When using the equation q = mcÎ”T, what is the correct unit for q (heat transferred)?</p>
      <div style="display: flex; flex-direction: column; gap: 12px; margin: 20px 0;"><label style="display: flex; align-items: center; gap: 12px; padding: 12px; background: white; border: 2px solid #cbd5e0; border-radius: 8px; cursor: pointer; font-size: 16px;"> <input type="radio" name="check4" value="A" style="width: 20px; height: 20px; cursor: pointer;"> <span>A) kgÂ·Â°C</span> </label> <label style="display: flex; align-items: center; gap: 12px; padding: 12px; background: white; border: 2px solid #cbd5e0; border-radius: 8px; cursor: pointer; font-size: 16px;"> <input type="radio" name="check4" value="B" style="width: 20px; height: 20px; cursor: pointer;"> <span>B) J/kgÂ·Â°C</span> </label> <label style="display: flex; align-items: center; gap: 12px; padding: 12px; background: white; border: 2px solid #cbd5e0; border-radius: 8px; cursor: pointer; font-size: 16px;"> <input type="radio" name="check4" value="C" style="width: 20px; height: 20px; cursor: pointer;"> <span>C) J (Joules)</span> </label> <label style="display: flex; align-items: center; gap: 12px; padding: 12px; background: white; border: 2px solid #cbd5e0; border-radius: 8px; cursor: pointer; font-size: 16px;"> <input type="radio" name="check4" value="D" style="width: 20px; height: 20px; cursor: pointer;"> <span>D) Â°C</span> </label>
      </div><button class="btn" id="check4-submit">Submit Answer</button> <button class="btn btn-secondary" id="check4-reset" style="display: none;">Try Another</button>
      <div class="feedback" id="check4-feedback"></div>
      <div class="solution" id="check4-solution">
       <div class="solution-title">
        ğŸ“– Explanation
       </div>
       <p><strong>Correct Answer: C) J (Joules)</strong></p>
       <p>Heat (q) is a form of energy, so it must be measured in energy units. The SI unit of energy is the Joule (J). When we perform unit analysis on q = mcÎ”T, all other units cancel out, leaving only Joules.</p>
      </div>
     </div>
    </section><!-- Section 5: Temperature vs Heat -->
    <section class="section" id="section-5" aria-labelledby="section-5-title">
     <h2 id="section-5-title">LO5: Temperature vs. Heat</h2>
     <p><strong>Temperature</strong> measures the average kinetic energy of particlesâ€”how fast they're moving on average. <strong>Heat</strong> is the transfer of thermal energy from a hotter object to a cooler one. Temperature is a property; heat is a process. A large cold lake has more total thermal energy than a cup of hot coffee, but the coffee has higher temperature.</p>
     <div class="sim-container">
      <div class="sim-title">
       ğŸ”¥ Heat Flow Demonstration
      </div>
      <p style="font-size: 16px; color: #4a5568; margin-bottom: 24px;">See how heat flows from hot to cold objects when they're in contact.</p>
      <div class="heat-flow-demo">
       <div class="block block-hot">
        <div style="font-size: 14px; margin-bottom: 8px;">
         Hot Block
        </div>
        <div>
         80Â°C
        </div>
       </div>
       <div class="arrow" id="heat-arrow" style="display: none;">
        â†’
       </div>
       <div class="block block-cold">
        <div style="font-size: 14px; margin-bottom: 8px;">
         Cold Block
        </div>
        <div>
         20Â°C
        </div>
       </div>
      </div>
      <div style="text-align: center; margin-top: 24px;"><button class="btn" id="contact-btn">Bring Blocks Into Contact</button> <button class="btn btn-secondary" id="insulate-btn" style="display: none;">Insulate Blocks</button>
      </div>
      <div id="heat-explanation" style="display: none; margin-top: 24px; padding: 20px; background: #fef3c7; border-radius: 8px; border-left: 4px solid #f59e0b;">
       <p style="margin: 0; color: #78350f; font-weight: 600;">Heat flows from the hot block (higher temperature) to the cold block (lower temperature) until they reach thermal equilibrium. Temperature is the measure of average kinetic energy, while heat is the energy being transferred.</p>
      </div>
     </div>
     <div class="check-section">
      <div class="check-title">
       âœ“ Knowledge Check
      </div>
      <p class="question">Sort these statements into the correct categories:</p>
      <div class="statement-pool">
       <h4>Drag statements to the correct category below:</h4>
       <div id="statement-source">
        <div class="draggable-item" draggable="true" data-category="temperature" tabindex="0">
         Measured in Â°C, K, or Â°F
        </div>
        <div class="draggable-item" draggable="true" data-category="heat" tabindex="0">
         Energy transferred between objects
        </div>
        <div class="draggable-item" draggable="true" data-category="temperature" tabindex="0">
         Average kinetic energy of particles
        </div>
        <div class="draggable-item" draggable="true" data-category="heat" tabindex="0">
         Flows from hot to cold
        </div>
        <div class="draggable-item" draggable="true" data-category="temperature" tabindex="0">
         A property of matter
        </div>
        <div class="draggable-item" draggable="true" data-category="heat" tabindex="0">
         Measured in Joules or calories
        </div>
       </div>
      </div>
      <div class="sorting-area">
       <div class="drop-zone" id="temp-zone" data-category="temperature">
        <h4>ğŸŒ¡ï¸ Temperature</h4>
       </div>
       <div class="drop-zone" id="heat-zone" data-category="heat">
        <h4>ğŸ”¥ Heat</h4>
       </div>
      </div><button class="btn" id="check5-submit">Check My Sorting</button> <button class="btn btn-secondary" id="check5-reset">Reset</button>
      <div class="feedback" id="check5-feedback"></div>
     </div>
    </section><!-- Section 6: Specific and Latent Heat -->
    <section class="section" id="section-6" aria-labelledby="section-6-title">
     <h2 id="section-6-title">LO6: Specific Heat, Latent Heat of Fusion &amp; Vaporization</h2>
     <p><strong>Specific heat (c)</strong> is the energy needed to raise 1 kg (or 1 g) of a substance by 1Â°C. Water has a high specific heat (4.18 J/gÂ·Â°C), meaning it resists temperature change. <strong>Latent heat of fusion (L<sub>f</sub>)</strong> is energy needed to melt 1 kg of solid to liquid at constant temperature. <strong>Latent heat of vaporization (L<sub>v</sub>)</strong> is energy to convert 1 kg of liquid to gas. For water: L<sub>f</sub> â‰ˆ 334 kJ/kg, L<sub>v</sub> â‰ˆ 2260 kJ/kg.</p>
     <div class="sim-container">
      <div class="sim-title">
       ğŸ”¬ Material Comparison Simulator
      </div>
      <p style="font-size: 16px; color: #4a5568; margin-bottom: 24px;">Compare how different materials respond to the same heat input. Materials with lower specific heat warm up faster!</p>
      <div class="material-selector"><button class="material-btn active" data-material="water" data-c="4.18">Water (c = 4.18 J/gÂ·Â°C)</button> <button class="material-btn" data-material="aluminum" data-c="0.90">Aluminum (c = 0.90 J/gÂ·Â°C)</button> <button class="material-btn" data-material="copper" data-c="0.39">Copper (c = 0.39 J/gÂ·Â°C)</button>
      </div>
      <div style="background: white; padding: 24px; border-radius: 8px; border: 2px solid #cbd5e0; margin-top: 24px;">
       <h4 style="margin: 0 0 16px 0; color: #2d3748;">Scenario: 100 g of material, initial temp 20Â°C, add 1000 J of heat</h4>
       <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 20px;">
        <div>
         <div style="font-size: 14px; color: #4a5568; margin-bottom: 4px;">
          Material:
         </div>
         <div style="font-size: 20px; font-weight: 700; color: #4c51bf;" id="material-name">
          Water
         </div>
        </div>
        <div>
         <div style="font-size: 14px; color: #4a5568; margin-bottom: 4px;">
          Specific Heat:
         </div>
         <div style="font-size: 20px; font-weight: 700; color: #4c51bf;" id="material-c">
          4.18 J/gÂ·Â°C
         </div>
        </div>
        <div>
         <div style="font-size: 14px; color: #4a5568; margin-bottom: 4px;">
          Temperature Change:
         </div>
         <div style="font-size: 20px; font-weight: 700; color: #059669;" id="material-dt">
          +2.4Â°C
         </div>
        </div>
        <div>
         <div style="font-size: 14px; color: #4a5568; margin-bottom: 4px;">
          Final Temperature:
         </div>
         <div style="font-size: 20px; font-weight: 700; color: #dc2626;" id="material-final">
          22.4Â°C
         </div>
        </div>
       </div>
       <div style="margin-top: 20px; padding: 16px; background: #f0fdf4; border-radius: 8px; border-left: 4px solid #10b981;">
        <p style="margin: 0; color: #065f46; font-size: 14px;">Using q = mcÎ”T â†’ Î”T = q/(mc) = 1000/(100 Ã— c)</p>
       </div>
      </div>
     </div>
     <div class="check-section">
      <div class="check-title">
       âœ“ Knowledge Check
      </div>
      <p class="question">If you add the same amount of heat to equal masses of water, aluminum, and copper (all starting at the same temperature), which material will warm up the fastest?</p>
      <div style="display: flex; flex-direction: column; gap: 12px; margin: 20px 0;"><label style="display: flex; align-items: center; gap: 12px; padding: 12px; background: white; border: 2px solid #cbd5e0; border-radius: 8px; cursor: pointer; font-size: 16px;"> <input type="radio" name="check6" value="A" style="width: 20px; height: 20px; cursor: pointer;"> <span>A) Water (c = 4.18 J/gÂ·Â°C)</span> </label> <label style="display: flex; align-items: center; gap: 12px; padding: 12px; background: white; border: 2px solid #cbd5e0; border-radius: 8px; cursor: pointer; font-size: 16px;"> <input type="radio" name="check6" value="B" style="width: 20px; height: 20px; cursor: pointer;"> <span>B) Aluminum (c = 0.90 J/gÂ·Â°C)</span> </label> <label style="display: flex; align-items: center; gap: 12px; padding: 12px; background: white; border: 2px solid #cbd5e0; border-radius: 8px; cursor: pointer; font-size: 16px;"> <input type="radio" name="check6" value="C" style="width: 20px; height: 20px; cursor: pointer;"> <span>C) Copper (c = 0.39 J/gÂ·Â°C)</span> </label> <label style="display: flex; align-items: center; gap: 12px; padding: 12px; background: white; border: 2px solid #cbd5e0; border-radius: 8px; cursor: pointer; font-size: 16px;"> <input type="radio" name="check6" value="D" style="width: 20px; height: 20px; cursor: pointer;"> <span>D) They all warm up at the same rate</span> </label>
      </div><button class="btn" id="check6-submit">Submit Answer</button> <button class="btn btn-secondary" id="check6-reset" style="display: none;">Try Another</button>
      <div class="feedback" id="check6-feedback"></div>
      <div class="solution" id="check6-solution">
       <div class="solution-title">
        ğŸ“– Explanation
       </div>
       <p><strong>Correct Answer: C) Copper</strong></p>
       <p>From q = mcÎ”T, we can solve for temperature change: Î”T = q/(mc). When q and m are the same for all materials, the material with the <strong>lowest specific heat (c)</strong> will have the <strong>largest Î”T</strong>. Copper has the lowest specific heat (0.39 J/gÂ·Â°C), so it warms up fastest. Water has the highest specific heat, so it resists temperature change the most.</p>
      </div>
     </div>
    </section><!-- Section 7: Heat Transfer Modes -->
    <section class="section" id="section-7" aria-labelledby="section-7-title">
     <h2 id="section-7-title">LO7: Three Modes of Heat Transfer</h2>
     <p>Heat transfers in three ways: <strong>Conduction</strong> is direct contact transfer through a material (touching a hot pan). <strong>Convection</strong> is transfer by fluid motionâ€”hot fluid rises, cold sinks (boiling water). <strong>Radiation</strong> is transfer by electromagnetic waves, no medium needed (feeling warmth from the sun or a fire).</p>
     <div class="sim-container">
      <div class="sim-title">
       ğŸ”¥ Heat Transfer Mode Identifier
      </div>
      <p style="font-size: 16px; color: #4a5568; margin-bottom: 24px;">Label each scenario with the correct heat transfer mode.</p>
      <div style="display: grid; gap: 24px; margin: 24px 0;">
       <div style="background: white; border: 2px solid #cbd5e0; border-radius: 8px; padding: 24px;">
        <div style="display: flex; gap: 20px; align-items: center; flex-wrap: wrap;">
         <div style="font-size: 48px;">
          ğŸ”§
         </div>
         <div style="flex: 1; min-width: 200px;">
          <h4 style="margin: 0 0 8px 0; color: #2d3748; font-size: 18px;">Scenario 1: Metal Rod</h4>
          <p style="margin: 0; font-size: 16px; color: #4a5568;">One end of a metal rod is heated in a flame. The other end gradually becomes hot.</p>
         </div><select id="mode1" style="padding: 12px; border: 2px solid #cbd5e0; border-radius: 8px; font-size: 16px; min-width: 150px;" aria-label="Heat transfer mode for scenario 1"> <option value="">Select mode...</option> <option value="conduction">Conduction</option> <option value="convection">Convection</option> <option value="radiation">Radiation</option> </select>
        </div>
        <div id="feedback1" style="margin-top: 12px; display: none;"></div>
       </div>
       <div style="background: white; border: 2px solid #cbd5e0; border-radius: 8px; padding: 24px;">
        <div style="display: flex; gap: 20px; align-items: center; flex-wrap: wrap;">
         <div style="font-size: 48px;">
          ğŸ²
         </div>
         <div style="flex: 1; min-width: 200px;">
          <h4 style="margin: 0 0 8px 0; color: #2d3748; font-size: 18px;">Scenario 2: Boiling Water</h4>
          <p style="margin: 0; font-size: 16px; color: #4a5568;">Water at the bottom of a pot heats up, rises to the top, while cooler water sinks.</p>
         </div><select id="mode2" style="padding: 12px; border: 2px solid #cbd5e0; border-radius: 8px; font-size: 16px; min-width: 150px;" aria-label="Heat transfer mode for scenario 2"> <option value="">Select mode...</option> <option value="conduction">Conduction</option> <option value="convection">Convection</option> <option value="radiation">Radiation</option> </select>
        </div>
        <div id="feedback2" style="margin-top: 12px; display: none;"></div>
       </div>
       <div style="background: white; border: 2px solid #cbd5e0; border-radius: 8px; padding: 24px;">
        <div style="display: flex; gap: 20px; align-items: center; flex-wrap: wrap;">
         <div style="font-size: 48px;">
          ğŸ”¥
         </div>
         <div style="flex: 1; min-width: 200px;">
          <h4 style="margin: 0 0 8px 0; color: #2d3748; font-size: 18px;">Scenario 3: Campfire Warmth</h4>
          <p style="margin: 0; font-size: 16px; color: #4a5568;">You feel warm when sitting near a campfire, even without touching it or being in the smoke.</p>
         </div><select id="mode3" style="padding: 12px; border: 2px solid #cbd5e0; border-radius: 8px; font-size: 16px; min-width: 150px;" aria-label="Heat transfer mode for scenario 3"> <option value="">Select mode...</option> <option value="conduction">Conduction</option> <option value="convection">Convection</option> <option value="radiation">Radiation</option> </select>
        </div>
        <div id="feedback3" style="margin-top: 12px; display: none;"></div>
       </div>
      </div><button class="btn" id="check7-submit">Check All Answers</button> <button class="btn btn-secondary" id="check7-reset">Reset</button>
     </div>
    </section><!-- Section 8: Heat Transfer Equation -->
    <section class="section" id="section-8" aria-labelledby="section-8-title">
     <h2 id="section-8-title">LO8: Heat Transfer Equation (q = mcÎ”T)</h2>
     <p>The fundamental equation for heat transfer is <strong>q = mcÎ”T</strong>. Here, <strong>q</strong> is heat (J), <strong>m</strong> is mass (kg or g), <strong>c</strong> is specific heat capacity, and <strong>Î”T = T<sub>final</sub> - T<sub>initial</sub></strong>. Sign convention: q is positive when heat is absorbed (temperature increases), negative when released (temperature decreases).</p>
     <div class="formula-box">
      q = m Ã— c Ã— Î”T<br>
       where Î”T = T<sub>final</sub> - T<sub>initial</sub>
     </div>
     <div class="sim-container">
      <div class="sim-title">
       ğŸ§® Heat Transfer Calculator
      </div>
      <p style="font-size: 16px; color: #4a5568; margin-bottom: 24px;">Enter values to calculate heat transferred. Watch the sign of q!</p>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 24px 0;">
       <div><label for="calc-mass" style="display: block; font-size: 16px; font-weight: 600; color: #2d3748; margin-bottom: 8px;">Mass (g):</label> <input type="number" id="calc-mass" value="100" step="1" min="0" style="width: 100%; padding: 12px; border: 2px solid #cbd5e0; border-radius: 8px; font-size: 16px;" aria-label="Mass in grams">
       </div>
       <div><label for="calc-c" style="display: block; font-size: 16px; font-weight: 600; color: #2d3748; margin-bottom: 8px;">Specific Heat (J/gÂ·Â°C):</label> <input type="number" id="calc-c" value="4.18" step="0.01" min="0" style="width: 100%; padding: 12px; border: 2px solid #cbd5e0; border-radius: 8px; font-size: 16px;" aria-label="Specific heat capacity">
       </div>
       <div><label for="calc-ti" style="display: block; font-size: 16px; font-weight: 600; color: #2d3748; margin-bottom: 8px;">Initial Temp (Â°C):</label> <input type="number" id="calc-ti" value="20" step="1" style="width: 100%; padding: 12px; border: 2px solid #cbd5e0; border-radius: 8px; font-size: 16px;" aria-label="Initial temperature">
       </div>
       <div><label for="calc-tf" style="display: block; font-size: 16px; font-weight: 600; color: #2d3748; margin-bottom: 8px;">Final Temp (Â°C):</label> <input type="number" id="calc-tf" value="80" step="1" style="width: 100%; padding: 12px; border: 2px solid #cbd5e0; border-radius: 8px; font-size: 16px;" aria-label="Final temperature">
       </div>
      </div><button class="btn" id="calc-btn">Calculate Heat Transfer</button>
      <div id="calc-result" style="display: none; margin-top: 24px; padding: 24px; background: white; border-radius: 8px; border: 2px solid #4c51bf;">
       <h4 style="margin: 0 0 16px 0; color: #4c51bf; font-size: 20px;">Results:</h4>
       <div style="font-size: 18px; line-height: 2;">
        <div>
         Î”T = T<sub>final</sub> - T<sub>initial</sub> = <span id="result-dt" style="font-weight: 700; color: #059669;"></span>
        </div>
        <div>
         q = m Ã— c Ã— Î”T = <span id="result-q" style="font-weight: 700; color: #dc2626; font-size: 24px;"></span>
        </div>
        <div style="margin-top: 12px; padding: 12px; background: #fef3c7; border-radius: 4px; font-size: 16px;" id="result-interpretation"></div>
       </div>
      </div>
     </div>
     <div class="check-section">
      <div class="check-title">
       âœ“ Knowledge Check
      </div>
      <p class="question">A 250 g aluminum block (c = 0.90 J/gÂ·Â°C) cools from 150Â°C to 50Â°C. How much heat is released? (Round to nearest whole number)</p>
      <div class="input-group"><label for="check8-answer">Heat released:</label> <input type="number" id="check8-answer" step="1" aria-label="Heat released"> <span>J</span>
      </div><button class="btn" id="check8-submit">Submit Answer</button> <button class="btn btn-secondary" id="check8-reset" style="display: none;">Try Another</button>
      <div class="feedback" id="check8-feedback"></div>
      <div class="solution" id="check8-solution">
       <div class="solution-title">
        ğŸ“– Worked Solution
       </div>
       <p><strong>Given:</strong> m = 250 g, c = 0.90 J/gÂ·Â°C, T<sub>i</sub> = 150Â°C, T<sub>f</sub> = 50Â°C</p>
       <p><strong>Step 1:</strong> Calculate Î”T<br>
        Î”T = T<sub>f</sub> - T<sub>i</sub> = 50 - 150 = -100Â°C</p>
       <p><strong>Step 2:</strong> Calculate q<br>
        q = mcÎ”T = (250)(0.90)(-100) = -22,500 J</p>
       <p><strong>Answer:</strong> The block releases <strong>22,500 J</strong> of heat (the negative sign indicates heat is released, but the question asks for the amount released, which is the absolute value).</p>
      </div>
     </div>
    </section><!-- Section 9: Phase Changes -->
    <section class="section" id="section-9" aria-labelledby="section-9-title">
     <h2 id="section-9-title">LO9: Phase Changes and Latent Heat</h2>
     <p>During phase changes (melting, freezing, boiling, condensing), temperature stays constant while energy is added or removed. <strong>Latent heat of fusion (L<sub>f</sub>)</strong> is energy per unit mass for solid â†” liquid transitions. <strong>Latent heat of vaporization (L<sub>v</sub>)</strong> is for liquid â†” gas transitions. For water: L<sub>f</sub> = 334 kJ/kg, L<sub>v</sub> = 2260 kJ/kg.</p>
     <div class="formula-box">
      q = mL<sub>f</sub> (melting/freezing)<br>
       q = mL<sub>v</sub> (boiling/condensing)
     </div>
     <div class="sim-container">
      <div class="sim-title">
       ğŸ§Š Phase Change Energy Calculator
      </div>
      <p style="font-size: 16px; color: #4a5568; margin-bottom: 24px;">Calculate energy needed for phase changes in water.</p>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin: 24px 0;">
       <div style="background: white; padding: 20px; border-radius: 8px; border: 2px solid #cbd5e0;">
        <h4 style="margin: 0 0 16px 0; color: #4c51bf;">Melting Ice</h4><label for="ice-mass" style="display: block; font-size: 16px; font-weight: 600; color: #2d3748; margin-bottom: 8px;">Mass of ice (g):</label> <input type="number" id="ice-mass" value="100" step="1" min="0" style="width: 100%; padding: 12px; border: 2px solid #cbd5e0; border-radius: 8px; font-size: 16px;" aria-label="Mass of ice"> <button class="btn" id="calc-melting" style="margin-top: 12px; width: 100%;">Calculate Energy to Melt</button>
        <div id="melting-result" style="display: none; margin-top: 12px; padding: 12px; background: #e0f2fe; border-radius: 4px; font-size: 16px; font-weight: 600; color: #0277bd;"></div>
       </div>
       <div style="background: white; padding: 20px; border-radius: 8px; border: 2px solid #cbd5e0;">
        <h4 style="margin: 0 0 16px 0; color: #4c51bf;">Boiling Water</h4><label for="water-mass" style="display: block; font-size: 16px; font-weight: 600; color: #2d3748; margin-bottom: 8px;">Mass of water (g):</label> <input type="number" id="water-mass" value="100" step="1" min="0" style="width: 100%; padding: 12px; border: 2px solid #cbd5e0; border-radius: 8px; font-size: 16px;" aria-label="Mass of water"> <button class="btn" id="calc-boiling" style="margin-top: 12px; width: 100%;">Calculate Energy to Boil</button>
        <div id="boiling-result" style="display: none; margin-top: 12px; padding: 12px; background: #fce4ec; border-radius: 4px; font-size: 16px; font-weight: 600; color: #c2185b;"></div>
       </div>
      </div>
      <div style="margin-top: 24px; padding: 20px; background: #f0fdf4; border-radius: 8px; border-left: 4px solid #10b981;">
       <h4 style="margin: 0 0 12px 0; color: #065f46;">ğŸ’¡ Key Insight:</h4>
       <p style="margin: 0; color: #065f46; font-size: 16px;">Notice that vaporization requires much more energy than melting! This is why steam burns are more severe than boiling water burns.</p>
      </div>
     </div>
     <div class="check-section">
      <div class="check-title">
       âœ“ Knowledge Check
      </div>
      <p class="question">How much energy is needed to completely melt 500 g of ice at 0Â°C? (L<sub>f</sub> = 334 J/g)</p>
      <div class="input-group"><label for="check9-answer">Energy needed:</label> <input type="number" id="check9-answer" step="1" aria-label="Energy needed"> <span>J</span>
      </div><button class="btn" id="check9-submit">Submit Answer</button> <button class="btn btn-secondary" id="check9-reset" style="display: none;">Try Another</button>
      <div class="feedback" id="check9-feedback"></div>
      <div class="solution" id="check9-solution">
       <div class="solution-title">
        ğŸ“– Worked Solution
       </div>
       <p><strong>Given:</strong> m = 500 g, L<sub>f</sub> = 334 J/g</p>
       <p><strong>Formula:</strong> q = mL<sub>f</sub></p>
       <p><strong>Solution:</strong> q = (500 g)(334 J/g) = 167,000 J</p>
       <p><strong>Answer:</strong> <strong>167,000 J</strong> is needed to melt the ice.</p>
      </div>
     </div>
    </section><!-- Section 10: Thermal Equilibrium -->
    <section class="section" id="section-10" aria-labelledby="section-10-title">
     <h2 id="section-10-title">LO10: Thermal Equilibrium and Heat Exchange</h2>
     <p>When objects at different temperatures are brought into contact, heat flows from hot to cold until they reach the same temperatureâ€”<strong>thermal equilibrium</strong>. In an isolated system, heat lost by the hot object equals heat gained by the cold object: q<sub>hot</sub> = -q<sub>cold</sub>. This is the principle of conservation of energy.</p>
     <div class="formula-box">
      q<sub>lost</sub> = q<sub>gained</sub><br>
       m<sub>1</sub>c<sub>1</sub>Î”T<sub>1</sub> = -m<sub>2</sub>c<sub>2</sub>Î”T<sub>2</sub>
     </div>
     <div class="sim-container">
      <div class="sim-title">
       âš–ï¸ Thermal Equilibrium Simulator
      </div>
      <p style="font-size: 16px; color: #4a5568; margin-bottom: 24px;">Mix hot and cold water to find the final equilibrium temperature.</p>
      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin: 24px 0;">
       <div style="background: linear-gradient(135deg, #fca5a5, #ef4444); padding: 20px; border-radius: 8px; color: white;">
        <h4 style="margin: 0 0 16px 0; color: white;">ğŸ”¥ Hot Water</h4>
        <div style="margin-bottom: 12px;"><label for="hot-mass" style="display: block; font-size: 16px; font-weight: 600; margin-bottom: 8px;">Mass (g):</label> <input type="number" id="hot-mass" value="200" step="10" min="0" style="width: 100%; padding: 12px; border: none; border-radius: 8px; font-size: 16px;" aria-label="Hot water mass">
        </div>
        <div><label for="hot-temp" style="display: block; font-size: 16px; font-weight: 600; margin-bottom: 8px;">Temperature (Â°C):</label> <input type="number" id="hot-temp" value="80" step="1" style="width: 100%; padding: 12px; border: none; border-radius: 8px; font-size: 16px;" aria-label="Hot water temperature">
        </div>
       </div>
       <div style="background: linear-gradient(135deg, #93c5fd, #3b82f6); padding: 20px; border-radius: 8px; color: white;">
        <h4 style="margin: 0 0 16px 0; color: white;">â„ï¸ Cold Water</h4>
        <div style="margin-bottom: 12px;"><label for="cold-mass" style="display: block; font-size: 16px; font-weight: 600; margin-bottom: 8px;">Mass (g):</label> <input type="number" id="cold-mass" value="300" step="10" min="0" style="width: 100%; padding: 12px; border: none; border-radius: 8px; font-size: 16px;" aria-label="Cold water mass">
        </div>
        <div><label for="cold-temp" style="display: block; font-size: 16px; font-weight: 600; margin-bottom: 8px;">Temperature (Â°C):</label> <input type="number" id="cold-temp" value="20" step="1" style="width: 100%; padding: 12px; border: none; border-radius: 8px; font-size: 16px;" aria-label="Cold water temperature">
        </div>
       </div>
      </div>
      <div style="text-align: center; margin: 24px 0;"><button class="btn" id="calc-equilibrium" style="font-size: 18px; padding: 16px 32px;">ğŸŒ¡ï¸ Find Equilibrium Temperature</button>
      </div>
      <div id="equilibrium-result" style="display: none; margin-top: 24px; padding: 24px; background: white; border-radius: 8px; border: 2px solid #4c51bf;">
       <h4 style="margin: 0 0 16px 0; color: #4c51bf; font-size: 20px;">Results:</h4>
       <div style="font-size: 18px; line-height: 2;">
        <div>
         Final equilibrium temperature: <span id="final-temp" style="font-weight: 700; color: #059669; font-size: 24px;"></span>
        </div>
        <div style="margin-top: 12px; padding: 12px; background: #fef3c7; border-radius: 4px; font-size: 16px;" id="equilibrium-explanation"></div>
       </div>
      </div>
     </div>
     <div class="check-section">
      <div class="check-title">
       âœ“ Knowledge Check
      </div>
      <p class="question">100 g of hot water at 90Â°C is mixed with 200 g of cold water at 10Â°C. What is the final equilibrium temperature? (Assume no heat loss to surroundings)</p>
      <div class="input-group"><label for="check10-answer">Final temperature:</label> <input type="number" id="check10-answer" step="0.1" aria-label="Final temperature"> <span>Â°C</span>
      </div><button class="btn" id="check10-submit">Submit Answer</button> <button class="btn btn-secondary" id="check10-reset" style="display: none;">Try Another</button>
      <div class="feedback" id="check10-feedback"></div>
      <div class="solution" id="check10-solution">
       <div class="solution-title">
        ğŸ“– Worked Solution
       </div>
       <p><strong>Given:</strong> mâ‚ = 100 g at 90Â°C, mâ‚‚ = 200 g at 10Â°C</p>
       <p><strong>Principle:</strong> Heat lost = Heat gained</p>
       <p><strong>Setup:</strong> mâ‚c(90 - T<sub>f</sub>) = mâ‚‚c(T<sub>f</sub> - 10)</p>
       <p><strong>Simplify:</strong> 100(90 - T<sub>f</sub>) = 200(T<sub>f</sub> - 10)</p>
       <p><strong>Expand:</strong> 9000 - 100T<sub>f</sub> = 200T<sub>f</sub> - 2000</p>
       <p><strong>Solve:</strong> 11000 = 300T<sub>f</sub> â†’ T<sub>f</sub> = 36.7Â°C</p>
      </div>
     </div>
    </section><!-- Section 11: Heat Capacity vs Specific Heat -->
    <section class="section" id="section-11" aria-labelledby="section-11-title">
     <h2 id="section-11-title">LO11: Heat Capacity vs. Specific Heat</h2>
     <p><strong>Specific heat (c)</strong> is energy per unit mass per degree: J/(kgÂ·Â°C). <strong>Heat capacity (C)</strong> is total energy needed to raise an object's temperature by 1Â°C: C = mc. A large object has high heat capacity even if made of low specific heat material. Think: a small copper coin vs. a large copper statue.</p>
     <div class="formula-box">
      C = mc (Heat Capacity)<br>
       q = CÎ”T = mcÎ”T
     </div>
     <div class="sim-container">
      <div class="sim-title">
       ğŸ—ï¸ Heat Capacity Comparison
      </div>
      <p style="font-size: 16px; color: #4a5568; margin-bottom: 24px;">Compare objects with different masses and materials to see how heat capacity varies.</p>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin: 24px 0;">
       <div style="background: white; padding: 20px; border-radius: 8px; border: 2px solid #cbd5e0;">
        <h4 style="margin: 0 0 16px 0; color: #4c51bf;">Object A</h4>
        <div style="margin-bottom: 12px;"><label for="objA-material" style="display: block; font-size: 16px; font-weight: 600; color: #2d3748; margin-bottom: 8px;">Material:</label> <select id="objA-material" style="width: 100%; padding: 12px; border: 2px solid #cbd5e0; border-radius: 8px; font-size: 16px;" aria-label="Object A material"> <option value="4.18">Water (c = 4.18 J/gÂ·Â°C)</option> <option value="0.90">Aluminum (c = 0.90 J/gÂ·Â°C)</option> <option value="0.39">Copper (c = 0.39 J/gÂ·Â°C)</option> <option value="0.13">Lead (c = 0.13 J/gÂ·Â°C)</option> </select>
        </div>
        <div><label for="objA-mass" style="display: block; font-size: 16px; font-weight: 600; color: #2d3748; margin-bottom: 8px;">Mass (g):</label> <input type="number" id="objA-mass" value="100" step="10" min="1" style="width: 100%; padding: 12px; border: 2px solid #cbd5e0; border-radius: 8px; font-size: 16px;" aria-label="Object A mass">
        </div>
        <div style="margin-top: 16px; padding: 12px; background: #e0f2fe; border-radius: 4px;">
         <div style="font-size: 14px; color: #0277bd; margin-bottom: 4px;">
          Heat Capacity:
         </div>
         <div style="font-size: 20px; font-weight: 700; color: #0277bd;" id="objA-capacity">
          418 J/Â°C
         </div>
        </div>
       </div>
       <div style="background: white; padding: 20px; border-radius: 8px; border: 2px solid #cbd5e0;">
        <h4 style="margin: 0 0 16px 0; color: #4c51bf;">Object B</h4>
        <div style="margin-bottom: 12px;"><label for="objB-material" style="display: block; font-size: 16px; font-weight: 600; color: #2d3748; margin-bottom: 8px;">Material:</label> <select id="objB-material" style="width: 100%; padding: 12px; border: 2px solid #cbd5e0; border-radius: 8px; font-size: 16px;" aria-label="Object B material"> <option value="4.18">Water (c = 4.18 J/gÂ·Â°C)</option> <option value="0.90" selected>Aluminum (c = 0.90 J/gÂ·Â°C)</option> <option value="0.39">Copper (c = 0.39 J/gÂ·Â°C)</option> <option value="0.13">Lead (c = 0.13 J/gÂ·Â°C)</option> </select>
        </div>
        <div><label for="objB-mass" style="display: block; font-size: 16px; font-weight: 600; color: #2d3748; margin-bottom: 8px;">Mass (g):</label> <input type="number" id="objB-mass" value="500" step="10" min="1" style="width: 100%; padding: 12px; border: 2px solid #cbd5e0; border-radius: 8px; font-size: 16px;" aria-label="Object B mass">
        </div>
        <div style="margin-top: 16px; padding: 12px; background: #fce4ec; border-radius: 4px;">
         <div style="font-size: 14px; color: #c2185b; margin-bottom: 4px;">
          Heat Capacity:
         </div>
         <div style="font-size: 20px; font-weight: 700; color: #c2185b;" id="objB-capacity">
          450 J/Â°C
         </div>
        </div>
       </div>
      </div>
      <div style="margin-top: 24px; padding: 20px; background: #f0fdf4; border-radius: 8px; border-left: 4px solid #10b981;">
       <h4 style="margin: 0 0 12px 0; color: #065f46;">ğŸ” Analysis:</h4>
       <div id="capacity-comparison" style="color: #065f46; font-size: 16px; font-weight: 600;">
        Object A has higher heat capacity and will be harder to heat up.
       </div>
      </div>
     </div>
     <div class="check-section">
      <div class="check-title">
       âœ“ Knowledge Check
      </div>
      <p class="question">A 2 kg aluminum block (c = 0.90 J/gÂ·Â°C) and a 0.5 kg water sample (c = 4.18 J/gÂ·Â°C) both need to be heated by 10Â°C. Which requires more energy?</p>
      <div style="display: flex; flex-direction: column; gap: 12px; margin: 20px 0;"><label style="display: flex; align-items: center; gap: 12px; padding: 12px; background: white; border: 2px solid #cbd5e0; border-radius: 8px; cursor: pointer; font-size: 16px;"> <input type="radio" name="check11" value="A" style="width: 20px; height: 20px; cursor: pointer;"> <span>A) Aluminum block (higher mass)</span> </label> <label style="display: flex; align-items: center; gap: 12px; padding: 12px; background: white; border: 2px solid #cbd5e0; border-radius: 8px; cursor: pointer; font-size: 16px;"> <input type="radio" name="check11" value="B" style="width: 20px; height: 20px; cursor: pointer;"> <span>B) Water sample (higher specific heat)</span> </label> <label style="display: flex; align-items: center; gap: 12px; padding: 12px; background: white; border: 2px solid #cbd5e0; border-radius: 8px; cursor: pointer; font-size: 16px;"> <input type="radio" name="check11" value="C" style="width: 20px; height: 20px; cursor: pointer;"> <span>C) They require the same energy</span> </label>
      </div><button class="btn" id="check11-submit">Submit Answer</button> <button class="btn btn-secondary" id="check11-reset" style="display: none;">Try Another</button>
      <div class="feedback" id="check11-feedback"></div>
      <div class="solution" id="check11-solution">
       <div class="solution-title">
        ğŸ“– Worked Solution
       </div>
       <p><strong>Aluminum:</strong> q = mcÎ”T = (2000 g)(0.90 J/gÂ·Â°C)(10Â°C) = 18,000 J</p>
       <p><strong>Water:</strong> q = mcÎ”T = (500 g)(4.18 J/gÂ·Â°C)(10Â°C) = 20,900 J</p>
       <p><strong>Answer: B) Water sample</strong> - Even though it has less mass, water's much higher specific heat means it has a higher heat capacity (2090 J/Â°C vs 1800 J/Â°C).</p>
      </div>
     </div>
    </section><!-- Section 12: Thermal Conductivity -->
    <section class="section" id="section-12" aria-labelledby="section-12-title">
     <h2 id="section-12-title">LO12: Thermal Conductivity and Insulation</h2>
     <p><strong>Thermal conductivity (k)</strong> measures how well a material conducts heat. High k materials (metals) transfer heat quickly. Low k materials (wood, air, foam) are good insulators. Heat flow rate depends on conductivity, area, temperature difference, and thickness: q/t = kA(Î”T)/d.</p>
     <div class="formula-box">
      Heat Flow Rate = kA(Î”T)/d<br>
       where k = thermal conductivity, A = area, d = thickness
     </div>
     <div class="sim-container">
      <div class="sim-title">
       ğŸ  Insulation Effectiveness Simulator
      </div>
      <p style="font-size: 16px; color: #4a5568; margin-bottom: 24px;">Compare heat flow through different materials. Lower flow = better insulation!</p>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 24px 0;">
       <div style="background: white; padding: 20px; border-radius: 8px; border: 2px solid #cbd5e0;">
        <h4 style="margin: 0 0 16px 0; color: #4c51bf;">Material Properties</h4>
        <div style="margin-bottom: 12px;"><label for="material-select" style="display: block; font-size: 16px; font-weight: 600; color: #2d3748; margin-bottom: 8px;">Material:</label> <select id="material-select" style="width: 100%; padding: 12px; border: 2px solid #cbd5e0; border-radius: 8px; font-size: 16px;" aria-label="Material type"> <option value="400">Copper (k = 400 W/mÂ·Â°C)</option> <option value="200">Aluminum (k = 200 W/mÂ·Â°C)</option> <option value="50">Steel (k = 50 W/mÂ·Â°C)</option> <option value="0.6">Glass (k = 0.6 W/mÂ·Â°C)</option> <option value="0.15" selected>Wood (k = 0.15 W/mÂ·Â°C)</option> <option value="0.04">Fiberglass (k = 0.04 W/mÂ·Â°C)</option> <option value="0.025">Air (k = 0.025 W/mÂ·Â°C)</option> </select>
        </div>
        <div style="margin-bottom: 12px;"><label for="thickness-input" style="display: block; font-size: 16px; font-weight: 600; color: #2d3748; margin-bottom: 8px;">Thickness (cm):</label> <input type="number" id="thickness-input" value="5" step="0.1" min="0.1" style="width: 100%; padding: 12px; border: 2px solid #cbd5e0; border-radius: 8px; font-size: 16px;" aria-label="Material thickness">
        </div>
        <div><label for="temp-diff" style="display: block; font-size: 16px; font-weight: 600; color: #2d3748; margin-bottom: 8px;">Temperature Difference (Â°C):</label> <input type="number" id="temp-diff" value="20" step="1" min="1" style="width: 100%; padding: 12px; border: 2px solid #cbd5e0; border-radius: 8px; font-size: 16px;" aria-label="Temperature difference">
        </div>
       </div>
       <div style="background: white; padding: 20px; border-radius: 8px; border: 2px solid #cbd5e0;">
        <h4 style="margin: 0 0 16px 0; color: #4c51bf;">Heat Flow Results</h4>
        <div style="margin-bottom: 16px;">
         <div style="font-size: 14px; color: #4a5568; margin-bottom: 4px;">
          Heat Flow Rate (per mÂ²):
         </div>
         <div style="font-size: 24px; font-weight: 700; color: #dc2626;" id="heat-flow-rate">
          600 W/mÂ²
         </div>
        </div>
        <div style="margin-bottom: 16px;">
         <div style="font-size: 14px; color: #4a5568; margin-bottom: 4px;">
          Insulation Quality:
         </div>
         <div style="font-size: 18px; font-weight: 600;" id="insulation-quality">
          Good Insulator
         </div>
        </div><button class="btn" id="calc-heat-flow" style="width: 100%;">Calculate Heat Flow</button>
       </div>
      </div>
      <div style="margin-top: 24px; padding: 20px; background: white; border-radius: 8px; border: 2px solid #4c51bf;">
       <h4 style="margin: 0 0 16px 0; color: #4c51bf;">ğŸ  Building Insulation Comparison</h4>
       <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">
        <div style="text-align: center; padding: 16px; background: #fee2e2; border-radius: 8px;">
         <div style="font-size: 32px; margin-bottom: 8px;">
          ğŸ”¥
         </div>
         <div style="font-size: 14px; color: #991b1b; font-weight: 600;">
          Poor Insulation
         </div>
         <div style="font-size: 12px; color: #991b1b;">
          Metal, Glass
         </div>
         <div style="font-size: 12px; color: #991b1b;">
          &gt; 1000 W/mÂ²
         </div>
        </div>
        <div style="text-align: center; padding: 16px; background: #fef3c7; border-radius: 8px;">
         <div style="font-size: 32px; margin-bottom: 8px;">
          ğŸŒ¡ï¸
         </div>
         <div style="font-size: 14px; color: #78350f; font-weight: 600;">
          Fair Insulation
         </div>
         <div style="font-size: 12px; color: #78350f;">
          Wood, Brick
         </div>
         <div style="font-size: 12px; color: #78350f;">
          100-1000 W/mÂ²
         </div>
        </div>
        <div style="text-align: center; padding: 16px; background: #d1fae5; border-radius: 8px;">
         <div style="font-size: 32px; margin-bottom: 8px;">
          â„ï¸
         </div>
         <div style="font-size: 14px; color: #065f46; font-weight: 600;">
          Good Insulation
         </div>
         <div style="font-size: 12px; color: #065f46;">
          Fiberglass, Air
         </div>
         <div style="font-size: 12px; color: #065f46;">
          &lt; 100 W/mÂ²
         </div>
        </div>
       </div>
      </div>
     </div>
     <div class="check-section">
      <div class="check-title">
       âœ“ Knowledge Check
      </div>
      <p class="question">Why do we wear multiple thin layers of clothing in cold weather instead of one thick layer?</p>
      <div style="display: flex; flex-direction: column; gap: 12px; margin: 20px 0;"><label style="display: flex; align-items: center; gap: 12px; padding: 12px; background: white; border: 2px solid #cbd5e0; border-radius: 8px; cursor: pointer; font-size: 16px;"> <input type="radio" name="check12" value="A" style="width: 20px; height: 20px; cursor: pointer;"> <span>A) Thicker layers are always warmer</span> </label> <label style="display: flex; align-items: center; gap: 12px; padding: 12px; background: white; border: 2px solid #cbd5e0; border-radius: 8px; cursor: pointer; font-size: 16px;"> <input type="radio" name="check12" value="B" style="width: 20px; height: 20px; cursor: pointer;"> <span>B) Air trapped between layers provides insulation</span> </label> <label style="display: flex; align-items: center; gap: 12px; padding: 12px; background: white; border: 2px solid #cbd5e0; border-radius: 8px; cursor: pointer; font-size: 16px;"> <input type="radio" name="check12" value="C" style="width: 20px; height: 20px; cursor: pointer;"> <span>C) Multiple layers look more fashionable</span> </label> <label style="display: flex; align-items: center; gap: 12px; padding: 12px; background: white; border: 2px solid #cbd5e0; border-radius: 8px; cursor: pointer; font-size: 16px;"> <input type="radio" name="check12" value="D" style="width: 20px; height: 20px; cursor: pointer;"> <span>D) It's easier to move in thin layers</span> </label>
      </div><button class="btn" id="check12-submit">Submit Answer</button> <button class="btn btn-secondary" id="check12-reset" style="display: none;">Try Another</button>
      <div class="feedback" id="check12-feedback"></div>
      <div class="solution" id="check12-solution">
       <div class="solution-title">
        ğŸ“– Explanation
       </div>
       <p><strong>Correct Answer: B) Air trapped between layers provides insulation</strong></p>
       <p>Air has very low thermal conductivity (k â‰ˆ 0.025 W/mÂ·Â°C), making it an excellent insulator. Multiple thin layers trap pockets of air between them, creating multiple insulating barriers. This is much more effective than a single thick layer of the same total thickness, which doesn't trap as much air.</p>
      </div>
     </div>
    </section><!-- Wrap-up Section -->
    <section class="section" id="section-13" aria-labelledby="section-13-title">
     <h2 id="section-13-title">ğŸ‰ Lesson Complete!</h2>
     <p style="font-size: 20px;">Congratulations! You've completed the interactive lesson on Temperature, Heat, and Heat Transfer.</p>
     <div style="background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%); border-left: 4px solid #10b981; padding: 24px; border-radius: 8px; margin: 24px 0;">
      <h3 style="margin: 0 0 16px 0; color: #065f46;">Key Takeaways:</h3>
      <ul style="margin: 0; padding-left: 24px; color: #065f46; font-size: 18px; line-height: 1.8;">
       <li>Temperature measures average kinetic energy; heat is energy transfer</li>
       <li>Three temperature scales: Â°C, K, and Â°F with specific conversion formulas</li>
       <li>Energy units: Joules, calories, and kilocalories are interconvertible</li>
       <li>Heat transfer equation: q = mcÎ”T relates heat, mass, specific heat, and temperature change</li>
       <li>Three heat transfer modes: conduction, convection, and radiation</li>
       <li>Specific heat determines how easily a material's temperature changes</li>
      </ul>
     </div>
     <h3>Next Steps:</h3>
     <p>Review any sections where you'd like more practice by using the Contents menu. You can also export key screens as notes for future reference.</p>
     <div style="margin-top: 32px; padding: 24px; background: #eff6ff; border-radius: 8px; border: 2px solid #3b82f6;">
      <h4 style="margin: 0 0 12px 0; color: #1e40af; font-size: 20px;">ğŸ“š Additional Resources:</h4>
      <p style="margin: 8px 0; color: #1e3a8a;">â€¢ Practice more problems in your textbook</p>
      <p style="margin: 8px 0; color: #1e3a8a;">â€¢ Explore real-world applications of heat transfer</p>
      <p style="margin: 8px 0; color: #1e3a8a;">â€¢ Discuss concepts with your study group</p>
     </div>
     <div style="text-align: center; margin-top: 40px;"><button class="btn" onclick="goToSection(0)" style="font-size: 18px; padding: 16px 32px;">â†º Return to Introduction</button>
     </div>
    </section>
   </main>
   <nav role="navigation" aria-label="Lesson navigation">
    <div class="nav-info">
     Section <span id="current-section">1</span> of <span id="total-sections">14</span>
    </div>
    <div class="nav-buttons"><button class="btn btn-secondary" id="prev-btn" aria-label="Previous section">â† Back</button> <button class="btn" id="next-btn" aria-label="Next section">Next â†’</button>
    </div>
   </nav>
  </div>
  <aside class="drawer" id="drawer" role="complementary" aria-label="Table of contents">
   <div class="drawer-header">
    <h3>Contents</h3><button class="close-btn" id="close-drawer" aria-label="Close table of contents">Ã—</button>
   </div>
   <div class="drawer-content" id="toc-content"></div>
  </aside>
  <script>
    const defaultConfig = {
      course_title: "College Algebra-Based Physics I",
      instructor_name: "Instructor",
      school_name: "School",
      lesson_title: "Temperature, Heat, and Heat Transfer",
      intro_hook: "Ever wonder why metal feels colder than wood at room temperature? Or how your coffee cools down? Let's explore the fascinating world of temperature and heat transfer!",
      background_color: "#667eea",
      surface_color: "#ffffff",
      text_color: "#1a202c",
      primary_action_color: "#4c51bf",
      secondary_action_color: "#64748b",
      font_family: "Segoe UI",
      font_size: 16
    };

    let currentSection = 0;
    const totalSections = 14;
    let check1Attempts = 0;
    let check2Attempts = 0;
    let check3Attempts = 0;
    let check4Attempts = 0;
    let check6Attempts = 0;
    let check8Attempts = 0;

    const sections = [
      { id: 0, title: "Introduction" },
      { id: 1, title: "LO1: Temperature Scales" },
      { id: 2, title: "LO2: Temperature Conversion" },
      { id: 3, title: "LO3: Energy Units" },
      { id: 4, title: "LO4: Heat Transfer Units" },
      { id: 5, title: "LO5: Temperature vs Heat" },
      { id: 6, title: "LO6: Specific & Latent Heat" },
      { id: 7, title: "LO7: Heat Transfer Modes" },
      { id: 8, title: "LO8: Heat Transfer Equation" },
      { id: 9, title: "LO9: Coming Soon" },
      { id: 10, title: "LO10: Coming Soon" },
      { id: 11, title: "LO11: Coming Soon" },
      { id: 12, title: "LO12: Coming Soon" },
      { id: 13, title: "Wrap-Up" }
    ];

    function updateUI(config) {
      const baseFont = config.font_family || defaultConfig.font_family;
      const baseFontStack = 'Arial, sans-serif';
      const fontSize = config.font_size || defaultConfig.font_size;

      document.body.style.fontFamily = `${baseFont}, ${baseFontStack}`;
      document.body.style.fontSize = `${fontSize}px`;

      document.getElementById('lesson-title').textContent = config.lesson_title || defaultConfig.lesson_title;
      document.getElementById('course-title').textContent = config.course_title || defaultConfig.course_title;
      document.getElementById('instructor-name').textContent = config.instructor_name || defaultConfig.instructor_name;
      document.getElementById('school-name').textContent = config.school_name || defaultConfig.school_name;
      document.getElementById('intro-hook').textContent = config.intro_hook || defaultConfig.intro_hook;

      const bgColor = config.background_color || defaultConfig.background_color;
      const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;
      
      document.body.style.background = `linear-gradient(135deg, ${bgColor} 0%, ${adjustColor(bgColor, -20)} 100%)`;
      
      const headers = document.querySelectorAll('header');
      headers.forEach(header => {
        header.style.background = `linear-gradient(135deg, ${primaryColor} 0%, ${adjustColor(primaryColor, -20)} 100%)`;
      });

      const h2Elements = document.querySelectorAll('h2');
      h2Elements.forEach(h2 => {
        h2.style.fontSize = `${fontSize * 2}px`;
      });

      const h3Elements = document.querySelectorAll('h3');
      h3Elements.forEach(h3 => {
        h3.style.fontSize = `${fontSize * 1.5}px`;
      });

      const pElements = document.querySelectorAll('p');
      pElements.forEach(p => {
        p.style.fontSize = `${fontSize * 1.125}px`;
      });
    }

    function adjustColor(color, percent) {
      const num = parseInt(color.replace("#",""), 16);
      const amt = Math.round(2.55 * percent);
      const R = (num >> 16) + amt;
      const G = (num >> 8 & 0x00FF) + amt;
      const B = (num & 0x0000FF) + amt;
      return "#" + (0x1000000 + (R<255?R<1?0:R:255)*0x10000 +
        (G<255?G<1?0:G:255)*0x100 + (B<255?B<1?0:B:255))
        .toString(16).slice(1);
    }

    async function onConfigChange(config) {
      updateUI(config);
    }

    function goToSection(index) {
      document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
      document.getElementById(`section-${index}`).classList.add('active');
      currentSection = index;
      
      document.getElementById('current-section').textContent = index + 1;
      document.getElementById('prev-btn').disabled = index === 0;
      document.getElementById('next-btn').disabled = index === totalSections - 1;
      
      const progress = ((index + 1) / totalSections) * 100;
      document.getElementById('progress-fill').style.width = `${progress}%`;
      document.querySelector('.progress-bar').setAttribute('aria-valuenow', progress);
      
      document.querySelectorAll('.toc-item').forEach((item, i) => {
        item.classList.toggle('active', i === index);
      });
      
      document.getElementById('main-content').scrollTop = 0;
    }

    function initTOC() {
      const tocContent = document.getElementById('toc-content');
      sections.forEach((section, index) => {
        const item = document.createElement('div');
        item.className = 'toc-item';
        item.tabIndex = 0;
        item.innerHTML = `
          <div class="toc-number">Section ${index + 1}</div>
          <div class="toc-title">${section.title}</div>
        `;
        item.addEventListener('click', () => {
          goToSection(index);
          closeDrawer();
        });
        item.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') {
            goToSection(index);
            closeDrawer();
          }
        });
        tocContent.appendChild(item);
      });
    }

    function openDrawer() {
      document.getElementById('drawer').classList.add('open');
      document.getElementById('overlay').classList.add('show');
    }

    function closeDrawer() {
      document.getElementById('drawer').classList.remove('open');
      document.getElementById('overlay').classList.remove('show');
    }

    document.getElementById('menu-btn').addEventListener('click', openDrawer);
    document.getElementById('close-drawer').addEventListener('click', closeDrawer);
    document.getElementById('overlay').addEventListener('click', closeDrawer);

    document.getElementById('prev-btn').addEventListener('click', () => {
      if (currentSection > 0) goToSection(currentSection - 1);
    });

    document.getElementById('next-btn').addEventListener('click', () => {
      if (currentSection < totalSections - 1) goToSection(currentSection + 1);
    });

    const tempSlider = document.getElementById('temp-slider');
    const tempDisplay = document.getElementById('temp-display');

    function updateThermometers(celsius) {
      const kelvin = celsius + 273.15;
      const fahrenheit = (9/5) * celsius + 32;
      
      tempDisplay.textContent = celsius;
      document.getElementById('value-c').textContent = `${celsius}Â°C`;
      document.getElementById('value-k').textContent = `${kelvin.toFixed(2)} K`;
      document.getElementById('value-f').textContent = `${fahrenheit.toFixed(1)}Â°F`;
      
      const heightPercent = ((celsius + 50) / 200) * 100;
      document.getElementById('thermo-fill-c').style.height = `${heightPercent}%`;
      document.getElementById('thermo-fill-k').style.height = `${heightPercent}%`;
      document.getElementById('thermo-fill-f').style.height = `${heightPercent}%`;
    }

    tempSlider.addEventListener('input', (e) => {
      updateThermometers(parseFloat(e.target.value));
    });

    document.getElementById('check1-submit').addEventListener('click', () => {
      const kInput = parseFloat(document.getElementById('check1-k').value);
      const fInput = parseFloat(document.getElementById('check1-f').value);
      const correctK = 310.2;
      const correctF = 98.6;
      
      const kCorrect = Math.abs(kInput - correctK) <= 0.2;
      const fCorrect = Math.abs(fInput - correctF) <= 0.2;
      
      const feedback = document.getElementById('check1-feedback');
      const solution = document.getElementById('check1-solution');
      
      check1Attempts++;
      
      if (kCorrect && fCorrect) {
        feedback.className = 'feedback correct show';
        feedback.textContent = 'âœ“ Correct! Body temperature is 310.2 K and 98.6Â°F.';
        document.getElementById('check1-submit').disabled = true;
        document.getElementById('check1-reset').style.display = 'inline-block';
      } else {
        feedback.className = 'feedback incorrect show';
        if (check1Attempts >= 2) {
          feedback.textContent = 'âœ— Not quite. Review the worked solution below.';
          solution.classList.add('show');
          document.getElementById('check1-submit').disabled = true;
          document.getElementById('check1-reset').style.display = 'inline-block';
        } else {
          feedback.textContent = `âœ— Not quite. Check your calculations. (Attempt ${check1Attempts}/2)`;
        }
      }
    });

    document.getElementById('check1-reset').addEventListener('click', () => {
      document.getElementById('check1-k').value = '';
      document.getElementById('check1-f').value = '';
      document.getElementById('check1-feedback').classList.remove('show');
      document.getElementById('check1-solution').classList.remove('show');
      document.getElementById('check1-submit').disabled = false;
      document.getElementById('check1-reset').style.display = 'none';
      check1Attempts = 0;
    });

    const convCelsius = document.getElementById('conv-celsius');
    const convKelvin = document.getElementById('conv-kelvin');
    const convFahrenheit = document.getElementById('conv-fahrenheit');

    convCelsius.addEventListener('input', (e) => {
      const c = parseFloat(e.target.value);
      if (!isNaN(c)) {
        convKelvin.value = (c + 273.15).toFixed(2);
        convFahrenheit.value = ((9/5) * c + 32).toFixed(2);
      }
    });

    convKelvin.addEventListener('input', (e) => {
      const k = parseFloat(e.target.value);
      if (!isNaN(k)) {
        const c = k - 273.15;
        convCelsius.value = c.toFixed(2);
        convFahrenheit.value = ((9/5) * c + 32).toFixed(2);
      }
    });

    convFahrenheit.addEventListener('input', (e) => {
      const f = parseFloat(e.target.value);
      if (!isNaN(f)) {
        const c = (5/9) * (f - 32);
        convCelsius.value = c.toFixed(2);
        convKelvin.value = (c + 273.15).toFixed(2);
      }
    });

    const check2Questions = [
      { from: 25, fromUnit: 'Â°C', to: 77, toUnit: 'Â°F', formula: 'Â°F = (9/5)Â°C + 32 = (9/5)(25) + 32 = 45 + 32 = 77Â°F' },
      { from: 100, fromUnit: 'Â°C', to: 373.15, toUnit: 'K', formula: 'K = Â°C + 273.15 = 100 + 273.15 = 373.15 K' },
      { from: 32, fromUnit: 'Â°F', to: 0, toUnit: 'Â°C', formula: 'Â°C = (5/9)(Â°F - 32) = (5/9)(32 - 32) = 0Â°C' }
    ];

    let currentCheck2 = 0;

    function loadCheck2Question() {
      const q = check2Questions[currentCheck2];
      document.getElementById('check2-question').textContent = 
        `Convert ${q.from}${q.fromUnit} to ${q.toUnit}. (Round to 1 decimal place)`;
      document.getElementById('check2-unit').textContent = q.toUnit;
    }

    loadCheck2Question();

    document.getElementById('check2-submit').addEventListener('click', () => {
      const answer = parseFloat(document.getElementById('check2-answer').value);
      const q = check2Questions[currentCheck2];
      const correct = Math.abs(answer - q.to) <= 0.2;
      
      const feedback = document.getElementById('check2-feedback');
      const solution = document.getElementById('check2-solution');
      
      check2Attempts++;
      
      if (correct) {
        feedback.className = 'feedback correct show';
        feedback.textContent = `âœ“ Correct! ${q.from}${q.fromUnit} = ${q.to}${q.toUnit}`;
        document.getElementById('check2-submit').disabled = true;
        document.getElementById('check2-reset').style.display = 'inline-block';
      } else {
        feedback.className = 'feedback incorrect show';
        if (check2Attempts >= 2) {
          feedback.textContent = 'âœ— Not quite. Review the worked solution below.';
          solution.innerHTML = `
            <div class="solution-title">ğŸ“– Worked Solution</div>
            <p><strong>Given:</strong> ${q.from}${q.fromUnit}</p>
            <p><strong>Solution:</strong><br>${q.formula}</p>
          `;
          solution.classList.add('show');
          document.getElementById('check2-submit').disabled = true;
          document.getElementById('check2-reset').style.display = 'inline-block';
        } else {
          feedback.textContent = `âœ— Not quite. Check your conversion formula. (Attempt ${check2Attempts}/2)`;
        }
      }
    });

    document.getElementById('check2-reset').addEventListener('click', () => {
      currentCheck2 = (currentCheck2 + 1) % check2Questions.length;
      loadCheck2Question();
      document.getElementById('check2-answer').value = '';
      document.getElementById('check2-feedback').classList.remove('show');
      document.getElementById('check2-solution').classList.remove('show');
      document.getElementById('check2-submit').disabled = false;
      document.getElementById('check2-reset').style.display = 'none';
      check2Attempts = 0;
    });

    const energyJoules = document.getElementById('energy-joules');
    const energyCalories = document.getElementById('energy-calories');
    const energyKcal = document.getElementById('energy-kcal');

    energyJoules.addEventListener('input', (e) => {
      const j = parseFloat(e.target.value);
      if (!isNaN(j)) {
        energyCalories.value = (j / 4.184).toFixed(2);
        energyKcal.value = (j / 4184).toFixed(2);
      }
    });

    energyCalories.addEventListener('input', (e) => {
      const cal = parseFloat(e.target.value);
      if (!isNaN(cal)) {
        energyJoules.value = (cal * 4.184).toFixed(2);
        energyKcal.value = (cal / 1000).toFixed(2);
      }
    });

    energyKcal.addEventListener('input', (e) => {
      const kcal = parseFloat(e.target.value);
      if (!isNaN(kcal)) {
        energyJoules.value = (kcal * 4184).toFixed(2);
        energyCalories.value = (kcal * 1000).toFixed(2);
      }
    });

    document.getElementById('check3-submit').addEventListener('click', () => {
      const calInput = parseFloat(document.getElementById('check3-cal').value);
      const kcalInput = parseFloat(document.getElementById('check3-kcal').value);
      const correctCal = 2000.00;
      const correctKcal = 2.00;
      
      const calCorrect = Math.abs(calInput - correctCal) <= 0.5;
      const kcalCorrect = Math.abs(kcalInput - correctKcal) <= 0.01;
      
      const feedback = document.getElementById('check3-feedback');
      const solution = document.getElementById('check3-solution');
      
      check3Attempts++;
      
      if (calCorrect && kcalCorrect) {
        feedback.className = 'feedback correct show';
        feedback.textContent = 'âœ“ Correct! 8368 J = 2000.00 cal = 2.00 kcal';
        document.getElementById('check3-submit').disabled = true;
        document.getElementById('check3-reset').style.display = 'inline-block';
      } else {
        feedback.className = 'feedback incorrect show';
        if (check3Attempts >= 2) {
          feedback.textContent = 'âœ— Not quite. Review the worked solution below.';
          solution.classList.add('show');
          document.getElementById('check3-submit').disabled = true;
          document.getElementById('check3-reset').style.display = 'inline-block';
        } else {
          feedback.textContent = `âœ— Not quite. Check your conversions. (Attempt ${check3Attempts}/2)`;
        }
      }
    });

    document.getElementById('check3-reset').addEventListener('click', () => {
      document.getElementById('check3-cal').value = '';
      document.getElementById('check3-kcal').value = '';
      document.getElementById('check3-feedback').classList.remove('show');
      document.getElementById('check3-solution').classList.remove('show');
      document.getElementById('check3-submit').disabled = false;
      document.getElementById('check3-reset').style.display = 'none';
      check3Attempts = 0;
    });

    document.getElementById('unit-toggle').addEventListener('change', (e) => {
      document.getElementById('gram-units').style.display = e.target.checked ? 'block' : 'none';
    });

    document.getElementById('check4-submit').addEventListener('click', () => {
      const selected = document.querySelector('input[name="check4"]:checked');
      const feedback = document.getElementById('check4-feedback');
      const solution = document.getElementById('check4-solution');
      
      if (!selected) {
        feedback.className = 'feedback incorrect show';
        feedback.textContent = 'Please select an answer.';
        return;
      }
      
      check4Attempts++;
      
      if (selected.value === 'C') {
        feedback.className = 'feedback correct show';
        feedback.textContent = 'âœ“ Correct! Heat (q) is measured in Joules (J).';
        document.getElementById('check4-submit').disabled = true;
        document.getElementById('check4-reset').style.display = 'inline-block';
      } else {
        feedback.className = 'feedback incorrect show';
        if (check4Attempts >= 2) {
          feedback.textContent = 'âœ— Not quite. Review the explanation below.';
          solution.classList.add('show');
          document.getElementById('check4-submit').disabled = true;
          document.getElementById('check4-reset').style.display = 'inline-block';
        } else {
          feedback.textContent = `âœ— Not quite. Think about what heat represents. (Attempt ${check4Attempts}/2)`;
        }
      }
    });

    document.getElementById('check4-reset').addEventListener('click', () => {
      document.querySelectorAll('input[name="check4"]').forEach(input => input.checked = false);
      document.getElementById('check4-feedback').classList.remove('show');
      document.getElementById('check4-solution').classList.remove('show');
      document.getElementById('check4-submit').disabled = false;
      document.getElementById('check4-reset').style.display = 'none';
      check4Attempts = 0;
    });

    document.getElementById('contact-btn').addEventListener('click', () => {
      document.getElementById('heat-arrow').style.display = 'block';
      document.getElementById('heat-explanation').style.display = 'block';
      document.getElementById('contact-btn').style.display = 'none';
      document.getElementById('insulate-btn').style.display = 'inline-block';
    });

    document.getElementById('insulate-btn').addEventListener('click', () => {
      document.getElementById('heat-arrow').style.display = 'none';
      document.getElementById('heat-explanation').style.display = 'none';
      document.getElementById('contact-btn').style.display = 'inline-block';
      document.getElementById('insulate-btn').style.display = 'none';
    });

    let draggedElement = null;
    let selectedForKeyboard = null;

    function initializeDragAndDrop() {
      document.querySelectorAll('.draggable-item').forEach(item => {
        item.addEventListener('dragstart', (e) => {
          draggedElement = e.target;
          e.target.style.opacity = '0.5';
          e.dataTransfer.effectAllowed = 'move';
        });

        item.addEventListener('dragend', (e) => {
          e.target.style.opacity = '1';
          draggedElement = null;
        });

        item.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            if (selectedForKeyboard === e.target) {
              selectedForKeyboard = null;
              e.target.style.border = '2px solid #4c51bf';
              e.target.style.background = 'white';
            } else {
              if (selectedForKeyboard) {
                selectedForKeyboard.style.border = '2px solid #4c51bf';
                selectedForKeyboard.style.background = 'white';
              }
              selectedForKeyboard = e.target;
              e.target.style.border = '3px solid #059669';
              e.target.style.background = '#d1fae5';
            }
          } else if (e.key === 'ArrowLeft' && selectedForKeyboard === e.target) {
            e.preventDefault();
            const tempZone = document.getElementById('temp-zone');
            if (!tempZone.contains(e.target)) {
              tempZone.appendChild(e.target);
              selectedForKeyboard = null;
              e.target.style.border = '2px solid #4c51bf';
              e.target.style.background = 'white';
            }
          } else if (e.key === 'ArrowRight' && selectedForKeyboard === e.target) {
            e.preventDefault();
            const heatZone = document.getElementById('heat-zone');
            if (!heatZone.contains(e.target)) {
              heatZone.appendChild(e.target);
              selectedForKeyboard = null;
              e.target.style.border = '2px solid #4c51bf';
              e.target.style.background = 'white';
            }
          }
        });

        item.addEventListener('click', (e) => {
          if (selectedForKeyboard === e.target) {
            selectedForKeyboard = null;
            e.target.style.border = '2px solid #4c51bf';
            e.target.style.background = 'white';
          } else {
            if (selectedForKeyboard) {
              selectedForKeyboard.style.border = '2px solid #4c51bf';
              selectedForKeyboard.style.background = 'white';
            }
            selectedForKeyboard = e.target;
            e.target.style.border = '3px solid #059669';
            e.target.style.background = '#d1fae5';
          }
        });
      });

      document.querySelectorAll('.drop-zone').forEach(zone => {
        zone.addEventListener('dragover', (e) => {
          e.preventDefault();
          zone.style.background = '#e0e7ff';
          zone.style.borderColor = '#4c51bf';
        });

        zone.addEventListener('dragleave', (e) => {
          if (!zone.contains(e.relatedTarget)) {
            zone.style.background = '#f7fafc';
            zone.style.borderColor = '#cbd5e0';
          }
        });

        zone.addEventListener('drop', (e) => {
          e.preventDefault();
          zone.style.background = '#f7fafc';
          zone.style.borderColor = '#cbd5e0';
          if (draggedElement) {
            zone.appendChild(draggedElement);
          }
        });

        zone.addEventListener('click', (e) => {
          if (selectedForKeyboard && !zone.contains(selectedForKeyboard)) {
            zone.appendChild(selectedForKeyboard);
            selectedForKeyboard.style.border = '2px solid #4c51bf';
            selectedForKeyboard.style.background = 'white';
            selectedForKeyboard = null;
          }
        });
      });
    }

    document.getElementById('check5-submit').addEventListener('click', () => {
      const tempZone = document.getElementById('temp-zone');
      const heatZone = document.getElementById('heat-zone');
      const feedback = document.getElementById('check5-feedback');
      
      let correct = true;
      let tempItems = tempZone.querySelectorAll('.draggable-item');
      let heatItems = heatZone.querySelectorAll('.draggable-item');
      
      tempItems.forEach(item => {
        if (item.dataset.category !== 'temperature') correct = false;
      });
      
      heatItems.forEach(item => {
        if (item.dataset.category !== 'heat') correct = false;
      });
      
      if (tempItems.length !== 3 || heatItems.length !== 3) correct = false;
      
      if (correct) {
        feedback.className = 'feedback correct show';
        feedback.textContent = 'âœ“ Perfect! You correctly sorted all statements.';
      } else {
        feedback.className = 'feedback incorrect show';
        feedback.textContent = 'âœ— Not quite. Review which statements describe temperature (a property) vs heat (energy transfer).';
      }
    });

    document.getElementById('check5-reset').addEventListener('click', () => {
      const source = document.getElementById('statement-source');
      document.querySelectorAll('.draggable-item').forEach(item => {
        source.appendChild(item);
      });
      document.getElementById('check5-feedback').classList.remove('show');
    });

    // Initialize drag and drop
    initializeDragAndDrop();

    const materialBtns = document.querySelectorAll('.material-btn');
    materialBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        materialBtns.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        
        const material = btn.dataset.material;
        const c = parseFloat(btn.dataset.c);
        const m = 100;
        const q = 1000;
        const dt = q / (m * c);
        const finalT = 20 + dt;
        
        document.getElementById('material-name').textContent = 
          material.charAt(0).toUpperCase() + material.slice(1);
        document.getElementById('material-c').textContent = `${c} J/gÂ·Â°C`;
        document.getElementById('material-dt').textContent = `+${dt.toFixed(1)}Â°C`;
        document.getElementById('material-final').textContent = `${finalT.toFixed(1)}Â°C`;
      });
    });

    document.getElementById('check6-submit').addEventListener('click', () => {
      const selected = document.querySelector('input[name="check6"]:checked');
      const feedback = document.getElementById('check6-feedback');
      const solution = document.getElementById('check6-solution');
      
      if (!selected) {
        feedback.className = 'feedback incorrect show';
        feedback.textContent = 'Please select an answer.';
        return;
      }
      
      check6Attempts++;
      
      if (selected.value === 'C') {
        feedback.className = 'feedback correct show';
        feedback.textContent = 'âœ“ Correct! Copper has the lowest specific heat, so it warms up fastest.';
        document.getElementById('check6-submit').disabled = true;
        document.getElementById('check6-reset').style.display = 'inline-block';
      } else {
        feedback.className = 'feedback incorrect show';
        if (check6Attempts >= 2) {
          feedback.textContent = 'âœ— Not quite. Review the explanation below.';
          solution.classList.add('show');
          document.getElementById('check6-submit').disabled = true;
          document.getElementById('check6-reset').style.display = 'inline-block';
        } else {
          feedback.textContent = `âœ— Not quite. Consider the relationship between specific heat and temperature change. (Attempt ${check6Attempts}/2)`;
        }
      }
    });

    document.getElementById('check6-reset').addEventListener('click', () => {
      document.querySelectorAll('input[name="check6"]').forEach(input => input.checked = false);
      document.getElementById('check6-feedback').classList.remove('show');
      document.getElementById('check6-solution').classList.remove('show');
      document.getElementById('check6-submit').disabled = false;
      document.getElementById('check6-reset').style.display = 'none';
      check6Attempts = 0;
    });

    const modeSelects = [
      { id: 'mode1', correct: 'conduction', feedback: 'feedback1' },
      { id: 'mode2', correct: 'convection', feedback: 'feedback2' },
      { id: 'mode3', correct: 'radiation', feedback: 'feedback3' }
    ];

    document.getElementById('check7-submit').addEventListener('click', () => {
      let allCorrect = true;
      
      modeSelects.forEach(mode => {
        const select = document.getElementById(mode.id);
        const feedback = document.getElementById(mode.feedback);
        
        if (select.value === mode.correct) {
          feedback.style.display = 'block';
          feedback.style.padding = '12px';
          feedback.style.background = '#d1fae5';
          feedback.style.color = '#065f46';
          feedback.style.borderRadius = '4px';
          feedback.textContent = 'âœ“ Correct!';
        } else {
          allCorrect = false;
          feedback.style.display = 'block';
          feedback.style.padding = '12px';
          feedback.style.background = '#fee2e2';
          feedback.style.color = '#991b1b';
          feedback.style.borderRadius = '4px';
          feedback.textContent = `âœ— Not quite. The correct answer is ${mode.correct}.`;
        }
      });
    });

    document.getElementById('check7-reset').addEventListener('click', () => {
      modeSelects.forEach(mode => {
        document.getElementById(mode.id).value = '';
        document.getElementById(mode.feedback).style.display = 'none';
      });
    });

    document.getElementById('calc-btn').addEventListener('click', () => {
      const m = parseFloat(document.getElementById('calc-mass').value);
      const c = parseFloat(document.getElementById('calc-c').value);
      const ti = parseFloat(document.getElementById('calc-ti').value);
      const tf = parseFloat(document.getElementById('calc-tf').value);
      
      const dt = tf - ti;
      const q = m * c * dt;
      
      document.getElementById('result-dt').textContent = `${dt.toFixed(1)}Â°C`;
      document.getElementById('result-q').textContent = `${q.toFixed(0)} J`;
      
      const interpretation = q > 0 
        ? 'ğŸ”¥ Positive q means heat is absorbed (temperature increased)'
        : 'â„ï¸ Negative q means heat is released (temperature decreased)';
      document.getElementById('result-interpretation').textContent = interpretation;
      
      document.getElementById('calc-result').style.display = 'block';
    });

    document.getElementById('check8-submit').addEventListener('click', () => {
      const answer = parseFloat(document.getElementById('check8-answer').value);
      const correct = 22500;
      
      const feedback = document.getElementById('check8-feedback');
      const solution = document.getElementById('check8-solution');
      
      check8Attempts++;
      
      if (Math.abs(answer - correct) <= 100) {
        feedback.className = 'feedback correct show';
        feedback.textContent = 'âœ“ Correct! The block releases 22,500 J of heat.';
        document.getElementById('check8-submit').disabled = true;
        document.getElementById('check8-reset').style.display = 'inline-block';
      } else {
        feedback.className = 'feedback incorrect show';
        if (check8Attempts >= 2) {
          feedback.textContent = 'âœ— Not quite. Review the worked solution below.';
          solution.classList.add('show');
          document.getElementById('check8-submit').disabled = true;
          document.getElementById('check8-reset').style.display = 'inline-block';
        } else {
          feedback.textContent = `âœ— Not quite. Remember to calculate Î”T first. (Attempt ${check8Attempts}/2)`;
        }
      }
    });

    document.getElementById('check8-reset').addEventListener('click', () => {
      document.getElementById('check8-answer').value = '';
      document.getElementById('check8-feedback').classList.remove('show');
      document.getElementById('check8-solution').classList.remove('show');
      document.getElementById('check8-submit').disabled = false;
      document.getElementById('check8-reset').style.display = 'none';
      check8Attempts = 0;
    });

    // Section 9: Phase Changes
    let check9Attempts = 0;
    
    document.getElementById('calc-melting').addEventListener('click', () => {
      const mass = parseFloat(document.getElementById('ice-mass').value);
      const energy = mass * 334; // Lf = 334 J/g
      document.getElementById('melting-result').textContent = `Energy needed: ${energy.toLocaleString()} J`;
      document.getElementById('melting-result').style.display = 'block';
    });

    document.getElementById('calc-boiling').addEventListener('click', () => {
      const mass = parseFloat(document.getElementById('water-mass').value);
      const energy = mass * 2260; // Lv = 2260 J/g
      document.getElementById('boiling-result').textContent = `Energy needed: ${energy.toLocaleString()} J`;
      document.getElementById('boiling-result').style.display = 'block';
    });

    document.getElementById('check9-submit').addEventListener('click', () => {
      const answer = parseFloat(document.getElementById('check9-answer').value);
      const correct = 167000;
      
      const feedback = document.getElementById('check9-feedback');
      const solution = document.getElementById('check9-solution');
      
      check9Attempts++;
      
      if (Math.abs(answer - correct) <= 1000) {
        feedback.className = 'feedback correct show';
        feedback.textContent = 'âœ“ Correct! 167,000 J is needed to melt 500 g of ice.';
        document.getElementById('check9-submit').disabled = true;
        document.getElementById('check9-reset').style.display = 'inline-block';
      } else {
        feedback.className = 'feedback incorrect show';
        if (check9Attempts >= 2) {
          feedback.textContent = 'âœ— Not quite. Review the worked solution below.';
          solution.classList.add('show');
          document.getElementById('check9-submit').disabled = true;
          document.getElementById('check9-reset').style.display = 'inline-block';
        } else {
          feedback.textContent = `âœ— Not quite. Use q = mLf. (Attempt ${check9Attempts}/2)`;
        }
      }
    });

    document.getElementById('check9-reset').addEventListener('click', () => {
      document.getElementById('check9-answer').value = '';
      document.getElementById('check9-feedback').classList.remove('show');
      document.getElementById('check9-solution').classList.remove('show');
      document.getElementById('check9-submit').disabled = false;
      document.getElementById('check9-reset').style.display = 'none';
      check9Attempts = 0;
    });

    // Section 10: Thermal Equilibrium
    let check10Attempts = 0;

    document.getElementById('calc-equilibrium').addEventListener('click', () => {
      const m1 = parseFloat(document.getElementById('hot-mass').value);
      const t1 = parseFloat(document.getElementById('hot-temp').value);
      const m2 = parseFloat(document.getElementById('cold-mass').value);
      const t2 = parseFloat(document.getElementById('cold-temp').value);
      
      // Heat lost = Heat gained: m1*c*(t1-tf) = m2*c*(tf-t2)
      // Solving: tf = (m1*t1 + m2*t2)/(m1 + m2)
      const tf = (m1 * t1 + m2 * t2) / (m1 + m2);
      
      document.getElementById('final-temp').textContent = `${tf.toFixed(1)}Â°C`;
      document.getElementById('equilibrium-explanation').textContent = 
        `The hot water (${m1}g at ${t1}Â°C) loses heat while the cold water (${m2}g at ${t2}Â°C) gains heat until they reach equilibrium at ${tf.toFixed(1)}Â°C.`;
      document.getElementById('equilibrium-result').style.display = 'block';
    });

    document.getElementById('check10-submit').addEventListener('click', () => {
      const answer = parseFloat(document.getElementById('check10-answer').value);
      const correct = 36.7;
      
      const feedback = document.getElementById('check10-feedback');
      const solution = document.getElementById('check10-solution');
      
      check10Attempts++;
      
      if (Math.abs(answer - correct) <= 0.5) {
        feedback.className = 'feedback correct show';
        feedback.textContent = 'âœ“ Correct! The equilibrium temperature is 36.7Â°C.';
        document.getElementById('check10-submit').disabled = true;
        document.getElementById('check10-reset').style.display = 'inline-block';
      } else {
        feedback.className = 'feedback incorrect show';
        if (check10Attempts >= 2) {
          feedback.textContent = 'âœ— Not quite. Review the worked solution below.';
          solution.classList.add('show');
          document.getElementById('check10-submit').disabled = true;
          document.getElementById('check10-reset').style.display = 'inline-block';
        } else {
          feedback.textContent = `âœ— Not quite. Set heat lost = heat gained. (Attempt ${check10Attempts}/2)`;
        }
      }
    });

    document.getElementById('check10-reset').addEventListener('click', () => {
      document.getElementById('check10-answer').value = '';
      document.getElementById('check10-feedback').classList.remove('show');
      document.getElementById('check10-solution').classList.remove('show');
      document.getElementById('check10-submit').disabled = false;
      document.getElementById('check10-reset').style.display = 'none';
      check10Attempts = 0;
    });

    // Section 11: Heat Capacity
    let check11Attempts = 0;

    function updateHeatCapacities() {
      const cA = parseFloat(document.getElementById('objA-material').value);
      const mA = parseFloat(document.getElementById('objA-mass').value);
      const cB = parseFloat(document.getElementById('objB-material').value);
      const mB = parseFloat(document.getElementById('objB-mass').value);
      
      const capA = mA * cA;
      const capB = mB * cB;
      
      document.getElementById('objA-capacity').textContent = `${capA.toFixed(0)} J/Â°C`;
      document.getElementById('objB-capacity').textContent = `${capB.toFixed(0)} J/Â°C`;
      
      const comparison = capA > capB ? 
        'Object A has higher heat capacity and will be harder to heat up.' :
        capA < capB ?
        'Object B has higher heat capacity and will be harder to heat up.' :
        'Both objects have the same heat capacity and will heat up equally.';
      
      document.getElementById('capacity-comparison').textContent = comparison;
    }

    document.getElementById('objA-material').addEventListener('change', updateHeatCapacities);
    document.getElementById('objA-mass').addEventListener('input', updateHeatCapacities);
    document.getElementById('objB-material').addEventListener('change', updateHeatCapacities);
    document.getElementById('objB-mass').addEventListener('input', updateHeatCapacities);

    document.getElementById('check11-submit').addEventListener('click', () => {
      const selected = document.querySelector('input[name="check11"]:checked');
      const feedback = document.getElementById('check11-feedback');
      const solution = document.getElementById('check11-solution');
      
      if (!selected) {
        feedback.className = 'feedback incorrect show';
        feedback.textContent = 'Please select an answer.';
        return;
      }
      
      check11Attempts++;
      
      if (selected.value === 'B') {
        feedback.className = 'feedback correct show';
        feedback.textContent = 'âœ“ Correct! Water requires more energy due to its higher heat capacity.';
        document.getElementById('check11-submit').disabled = true;
        document.getElementById('check11-reset').style.display = 'inline-block';
      } else {
        feedback.className = 'feedback incorrect show';
        if (check11Attempts >= 2) {
          feedback.textContent = 'âœ— Not quite. Review the explanation below.';
          solution.classList.add('show');
          document.getElementById('check11-submit').disabled = true;
          document.getElementById('check11-reset').style.display = 'inline-block';
        } else {
          feedback.textContent = `âœ— Not quite. Calculate q = mcÎ”T for both. (Attempt ${check11Attempts}/2)`;
        }
      }
    });

    document.getElementById('check11-reset').addEventListener('click', () => {
      document.querySelectorAll('input[name="check11"]').forEach(input => input.checked = false);
      document.getElementById('check11-feedback').classList.remove('show');
      document.getElementById('check11-solution').classList.remove('show');
      document.getElementById('check11-submit').disabled = false;
      document.getElementById('check11-reset').style.display = 'none';
      check11Attempts = 0;
    });

    // Section 12: Thermal Conductivity
    let check12Attempts = 0;

    document.getElementById('calc-heat-flow').addEventListener('click', () => {
      const k = parseFloat(document.getElementById('material-select').value);
      const thickness = parseFloat(document.getElementById('thickness-input').value) / 100; // convert cm to m
      const tempDiff = parseFloat(document.getElementById('temp-diff').value);
      
      // Heat flow rate per unit area: q/t = k * Î”T / d
      const heatFlowRate = k * tempDiff / thickness;
      
      document.getElementById('heat-flow-rate').textContent = `${heatFlowRate.toFixed(0)} W/mÂ²`;
      
      let quality, color;
      if (heatFlowRate > 1000) {
        quality = 'Poor Insulator';
        color = '#dc2626';
      } else if (heatFlowRate > 100) {
        quality = 'Fair Insulator';
        color = '#f59e0b';
      } else {
        quality = 'Good Insulator';
        color = '#059669';
      }
      
      const qualityElement = document.getElementById('insulation-quality');
      qualityElement.textContent = quality;
      qualityElement.style.color = color;
    });

    document.getElementById('check12-submit').addEventListener('click', () => {
      const selected = document.querySelector('input[name="check12"]:checked');
      const feedback = document.getElementById('check12-feedback');
      const solution = document.getElementById('check12-solution');
      
      if (!selected) {
        feedback.className = 'feedback incorrect show';
        feedback.textContent = 'Please select an answer.';
        return;
      }
      
      check12Attempts++;
      
      if (selected.value === 'B') {
        feedback.className = 'feedback correct show';
        feedback.textContent = 'âœ“ Correct! Air trapped between layers provides excellent insulation.';
        document.getElementById('check12-submit').disabled = true;
        document.getElementById('check12-reset').style.display = 'inline-block';
      } else {
        feedback.className = 'feedback incorrect show';
        if (check12Attempts >= 2) {
          feedback.textContent = 'âœ— Not quite. Review the explanation below.';
          solution.classList.add('show');
          document.getElementById('check12-submit').disabled = true;
          document.getElementById('check12-reset').style.display = 'inline-block';
        } else {
          feedback.textContent = `âœ— Not quite. Think about thermal conductivity of air. (Attempt ${check12Attempts}/2)`;
        }
      }
    });

    document.getElementById('check12-reset').addEventListener('click', () => {
      document.querySelectorAll('input[name="check12"]').forEach(input => input.checked = false);
      document.getElementById('check12-feedback').classList.remove('show');
      document.getElementById('check12-solution').classList.remove('show');
      document.getElementById('check12-submit').disabled = false;
      document.getElementById('check12-reset').style.display = 'none';
      check12Attempts = 0;
    });

    initTOC();
    updateThermometers(25);
    updateHeatCapacities();

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities: (config) => ({
          recolorables: [
            {
              get: () => config.background_color || defaultConfig.background_color,
              set: (value) => {
                config.background_color = value;
                window.elementSdk.setConfig({ background_color: value });
              }
            },
            {
              get: () => config.surface_color || defaultConfig.surface_color,
              set: (value) => {
                config.surface_color = value;
                window.elementSdk.setConfig({ surface_color: value });
              }
            },
            {
              get: () => config.text_color || defaultConfig.text_color,
              set: (value) => {
                config.text_color = value;
                window.elementSdk.setConfig({ text_color: value });
              }
            },
            {
              get: () => config.primary_action_color || defaultConfig.primary_action_color,
              set: (value) => {
                config.primary_action_color = value;
                window.elementSdk.setConfig({ primary_action_color: value });
              }
            },
            {
              get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
              set: (value) => {
                config.secondary_action_color = value;
                window.elementSdk.setConfig({ secondary_action_color: value });
              }
            }
          ],
          borderables: [],
          fontEditable: {
            get: () => config.font_family || defaultConfig.font_family,
            set: (value) => {
              config.font_family = value;
              window.elementSdk.setConfig({ font_family: value });
            }
          },
          fontSizeable: {
            get: () => config.font_size || defaultConfig.font_size,
            set: (value) => {
              config.font_size = value;
              window.elementSdk.setConfig({ font_size: value });
            }
          }
        }),
        mapToEditPanelValues: (config) => new Map([
          ["course_title", config.course_title || defaultConfig.course_title],
          ["instructor_name", config.instructor_name || defaultConfig.instructor_name],
          ["school_name", config.school_name || defaultConfig.school_name],
          ["lesson_title", config.lesson_title || defaultConfig.lesson_title],
          ["intro_hook", config.intro_hook || defaultConfig.intro_hook]
        ])
      });
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99987391b1684511',t:'MTc2MjMwNDgxNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
